var $e=Object.defineProperty;var ge=Object.getOwnPropertySymbols;var ke=Object.prototype.hasOwnProperty,xe=Object.prototype.propertyIsEnumerable;var be=(e,t,n)=>t in e?$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,re=(e,t)=>{for(var n in t||(t={}))ke.call(t,n)&&be(e,n,t[n]);if(ge)for(var n of ge(t))xe.call(t,n)&&be(e,n,t[n]);return e};import{d as Se,a as Y,b as E,s as L,c as u,t as _,o as d,n as k,r as b,w as G,e as m,f as o,g as U,h as Ce,i as fe,v as Ae,j as de,k as ie,l as Fe,F as K,m as ue,p as F,q as I,u as ce,x as pe,y as Ee,z as Ie,A as Te}from"./vendor.9f38f2b7.js";var we,_e;const le=(_e=(we=window==null?void 0:window.Attendee)==null?void 0:we.cpUrl)!=null?_e:"https://researchschool.org.uk/cp",j=Se("trainings",{state:()=>({attendees:null,totalAttendees:null,attendeeInput:null,attendeeFormErrors:!1,attendeeSuccess:!1,showForm:!1,loading:!1,loadingApi:!1,schools:null,followOnSupportOptions:null}),actions:{fetchOptions(e){const t=this;this.loading=!0,Y({method:"get",url:`${le}/craft-attendees/trainings/fetch-support-options/${e}`}).then(function(n){var s,r;t.loading=!1,t.followOnSupportOptions=(s=n.data)==null?void 0:s.options,t.followOnSupportSelectedOptions=(r=n.data)==null?void 0:r.selectedOptions})},saveOption(e){const t=this;this.loading=!0,Y({method:"post",url:`${le}/actions/craft-attendees/training/save-support-options`,data:e}).then(function(n){t.loading=!1})},async fetchSchools(e){var t;if(e){this.loadingApi=!0;const s=await Y.create({baseURL:`https://api.v2.metaseed.io/schools/?mode=legacy&query=${e}`,timeout:3e3}).get("");(s==null?void 0:s.data)?(this.schools=(t=s.data)==null?void 0:t.suggestions,this.loadingApi=!1):this.loadingApi=!1}},deleteAttendee(e){const t=this;this.loading=!0,Y({method:"post",url:`${le}/actions/craft-attendees/training/delete`,data:e}).then(function(n){t.loading=!1,t.attendees=t.attendees.filter(s=>s.id!=e.attendeeId)})},submitAttendee(e){let t={};if(e instanceof FormData)for(var n of e.entries())t[n[0]]=n[1];else t=e;this.attendeeFormErrors=!1,this.loading=!0,this.attendeeSuccess=!1,this.attendeeInput=t;const s=this;Y({method:"post",url:`${le}/actions/craft-attendees/training/save`,data:e}).then(function(r){var p;if(!r.data.success)s.attendeeFormErrors=r.data.errors,s.loading=!1,s.attendeeSuccess=!1;else{let l=s.attendees.filter(h=>{var c,v;return h.id==((v=(c=r==null?void 0:r.data)==null?void 0:c.attendee)==null?void 0:v.id)});const i=s.attendees.findIndex(h=>{var c,v;return h.id==((v=(c=r==null?void 0:r.data)==null?void 0:c.attendee)==null?void 0:v.id)});l.length>0?(l=l[0],l.name=t==null?void 0:t.name,l.orgName=t==null?void 0:t.orgName,l.orgUrn=t==null?void 0:t.orgUrn,l.postCode=t==null?void 0:t.postCode,l.days=t==null?void 0:t.days,l.email=t==null?void 0:t.email,l.newsletter=t==null?void 0:t.newsletter,l.approved=t==null?void 0:t.approved,l.jobRole=t==null?void 0:t.jobRole,s.attendees[i]=l):s.attendees.unshift((p=r==null?void 0:r.data)==null?void 0:p.attendee),s.loading=!1,s.attendeeFormErrors=!1,s.attendeeSuccess=!0,s.attendeeInput=null}})},fetchAttendees(e,t,n){const s=this;this.loading=!0,Y({method:"get",url:`${le}/craft-attendees/trainings/attendees/${e}/${t}/${n}`}).then(function(r){var p,l,i,h;s.loading=!1,s.totalAttendees=parseInt((l=(p=r==null?void 0:r.data)==null?void 0:p.meta)==null?void 0:l.total),s.attendees=n!==0?s.attendees.concat((i=r==null?void 0:r.data)==null?void 0:i.attendees):(h=r==null?void 0:r.data)==null?void 0:h.attendees})},setShowFrom(e){this.attendeeFormErrors=!1,this.showForm=e},resetForm(){this.loading=!1,this.attendeeFormErrors=!1,this.attendeeInput=null},clearSchools(){this.schools=null}}});var T=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n};const Ne=E({setup(){const e=j(),{showForm:t}=L(e);return{showForm:t,toggle:()=>{e.setShowFrom(!0)}}}});function De(e,t,n,s,r,p){return d(),u("button",{class:"bg-emerald-300 text-emerald-800 font-bold py-2 px-3 text-sm rounded-lg cursor-pointer",onClick:t[0]||(t[0]=(...l)=>e.toggle&&e.toggle(...l))},_(e.showForm?"Close form":"Add attendee"),1)}var Ve=T(Ne,[["render",De]]);const qe=E({props:{show:{type:Boolean,default:!1}}});function ze(e,t,n,s,r,p){return d(),u("div",{class:k(["fixed left-1/2 top-0 z-[100] bg-emerald-400 text-emerald-800 px-8 py-2 rounded-bl-lg rounded-br-lg font-bold transition-all duration-500",e.show?"opacity-100":"opacity-0 pointer-events-none"])},"Saved succesfully",2)}var Re=T(qe,[["render",ze]]);const Be=E({props:{approved:{type:Number},urn:{type:String,default:""},disabled:{type:Boolean,default:!1}},setup(e){const t=b(0),n=b(e.urn);return G(()=>{n.value=e.urn,e.urn||(n.value=""),e.disabled?t.value=0:e.approved==1&&n.value.length>0?t.value=1:e.approved==0&&n.value.length>0?t.value=2:e.approved==1&&n.value.length==0?t.value=3:e.approved==0&&n.value.length==0?t.value=4:t.value=0}),{status:t,urnVal:n}}}),Ue={class:"absolute right-0 top-8 text-xs text-gray-600"},Oe={key:0,class:"flex items-center"},Pe=o("span",{class:"inline-block w-3 h-3 bg-gray-400 rounded-full"},null,-1),Me=o("span",null,"Use the fields below to add attendee data. All data must be verified to count towards reporting metrics.",-1),He=[Pe,Me],Le={key:1,class:"flex items-center"},Ke=o("span",{class:"inline-block w-3 h-3 bg-emerald-400 rounded-full"},null,-1),je=U("School verified and linked to "),Ye=["href"],Ge={key:2,class:"flex items-center"},Je=o("span",{class:"inline-block w-3 h-3 bg-orange-400 rounded-full"},null,-1),Qe=U("School pending verification. Linked to "),We=["href"],Xe={key:3,class:"flex items-center"},Ze=o("span",{class:"inline-block w-3 h-3 border-2 border-solid border-emerald-400 bg-emerald-100 rounded-full"},null,-1),et=o("span",null,"Organisation verified. Not linked to government establishment data",-1),tt=[Ze,et],ot={key:4,class:"flex items-center"},nt=o("span",{class:"inline-block w-3 h-3 border-2 border-solid border-orange-400 bg-orange-100 rounded-full"},null,-1),st=o("span",null,"Organisation pending verification. Not linked to government establishment data.",-1),at=[nt,st];function lt(e,t,n,s,r,p){return d(),u("div",Ue,[e.status===0?(d(),u("p",Oe,He)):m("",!0),e.status===1?(d(),u("p",Le,[Ke,o("span",null,[je,o("a",{href:`https://get-information-schools.service.gov.uk/Establishments/Establishment/Details/${e.urnVal}`,class:"underline text-gray-600",target:"_blank"},"government establishment data",8,Ye)])])):m("",!0),e.status===2?(d(),u("p",Ge,[Je,o("span",null,[Qe,o("a",{href:`https://get-information-schools.service.gov.uk/Establishments/Establishment/Details/${e.urnVal}`,class:"underline text-gray-600",target:"_blank"},"government establishment data",8,We)])])):m("",!0),e.status===3?(d(),u("p",Xe,tt)):m("",!0),e.status===4?(d(),u("p",ot,at)):m("",!0)])}var me=T(Be,[["render",lt]]);const rt=E({props:{label:{type:String,required:!1},name:{type:String,required:!0},label:{type:String,default:""},checked:{default:0}},setup(e,{emit:t}){const n=b(0);return G(()=>{n.value=e.checked==0?0:1}),{toggle:()=>{n.value=n.value==0?1:0,t("changed",n.value)},checkedValue:n}}}),dt={class:"inline-block relative flex items-center cursor-pointer"},it=["name","value","checked"],ut={class:"peer-focus:ring-2 peer-focus:ring-opacity-50 peer-focus:ring-blue-700 peer-focus:shadow-lg outline-none rounded-full inline-block cursor-pointer"},ct={key:0,class:"inline-flex pl-2"};function pt(e,t,n,s,r,p){return d(),u("label",dt,[o("input",{name:e.name,type:"checkbox",class:"peer sr-only",onClick:t[0]||(t[0]=(...l)=>e.toggle&&e.toggle(...l)),value:e.checkedValue,checked:e.checkedValue==1},null,8,it),o("div",ut,[o("div",{class:k(["block h-6 rounded-full w-10 cursor-pointer bg-opacity-100",e.checkedValue==1?"bg-emerald-100":"bg-indigo-100"])},null,2),o("div",{class:k(["absolute w-4 h-4 transition rounded-full left-1 top-1 flex items-center not-sr-only",e.checkedValue==1?"bg-emerald-700 transform translate-x-full":"bg-gray-400"])},null,2)]),e.label.length>0?(d(),u("span",ct,_(e.label),1)):m("",!0)])}var ye=T(rt,[["render",pt]]);const ht=E({props:{values:{type:Object,default:{}}},emits:["schoolSelect"],setup(e,{emit:t}){var O,N,M,P,J,Q,W,X,Z,ee,te,oe;const n=b(null),s=j(),r=b(Math.floor(Math.random()*100)+Date.now()),{attendeeInput:p,attendeeFormErrors:l,schools:i,loadingApi:h}=L(s),c=b((P=(M=(O=p.value)==null?void 0:O.orgName)!=null?M:(N=e.values)==null?void 0:N.orgName)!=null?P:""),v=b((X=(W=(J=p.value)==null?void 0:J.orgUrn)!=null?W:(Q=e.values)==null?void 0:Q.orgUrn)!=null?X:""),x=b((oe=(te=(Z=p.value)==null?void 0:Z.postCode)!=null?te:(ee=e.values)==null?void 0:ee.postCode)!=null?oe:""),a=b(null),g=b(!1),y=b(0),C=b(!0),f=$=>{var w,H,ne,se,ae,ve;c.value=(H=(w=$.currentTarget)==null?void 0:w.dataset)==null?void 0:H.name,v.value=(se=(ne=$.currentTarget)==null?void 0:ne.dataset)==null?void 0:se.urn,x.value=(ve=(ae=$.currentTarget)==null?void 0:ae.dataset)==null?void 0:ve.postcode,C.value=!1,t("schoolSelect",c.value,v.value,x.value),g.value=!1,s.clearSchools()},D=()=>{C.value=!0,c.value.length>2&&(g.value=!0,s.fetchSchools(c.value))},V=$=>{var w;((w=c.value)==null?void 0:w.length)===0&&s.clearSchools(),g.value=$},q=()=>{a.value&&clearTimeout(a.value),a.value=setTimeout(D,200)},z=()=>{var $,w;y.value=y.value<(($=i.value)==null?void 0:$.length)-1?y.value+1:((w=i.value)==null?void 0:w.length)-1,n.value.querySelectorAll("li")[y.value].scrollIntoView({block:"nearest"})},R=()=>{y.value=y.value>0?y.value-1:0,n.value.querySelectorAll("li")[y.value].scrollIntoView({block:"nearest"})},B=()=>{var w,H,ne,se,ae;const $={currentTarget:{dataset:{name:(w=i.value[y.value])==null?void 0:w.value,urn:(ne=(H=i.value[y.value])==null?void 0:H.data)==null?void 0:ne.urn,postcode:(ae=(se=i.value[y.value])==null?void 0:se.data)==null?void 0:ae.postcode}}};f($)},S=()=>{var $;c.value=null,(($=v.value)==null?void 0:$.length)>0&&A()};Ce(c,($,w)=>{var H;$!==w&&((H=v.value)==null?void 0:H.length)>0&&C.value&&A(),C.value=!0});const A=()=>{v.value=null,x.value=null,t("schoolSelect",c.value,v.value,x.value),g.value=!1,s.clearSchools()};return{attendeeInput:p,attendeeFormErrors:l,school:c,schools:i,urn:v,uniqueId:r,postcode:x,showDropdown:g,schoolDropdown:n,currentSelectionIndex:y,clearResults:C,loadingApi:h,delay:q,handleSchoolSelect:f,handleSchoolInput:D,handleFocus:V,handleClear:S,onArrowDown:z,onArrowUp:R,selectCurrentSelection:B}}}),vt=["value"],gt={class:"block mb-6"},bt=o("span",{class:"text-xs font-bold text-gray-400 block mb-1"},[U("School / Organisation "),o("span",{class:"text-blue-500"},"*")],-1),ft={class:"w-full relative"},mt=["aria-owns"],yt=["aria-expanded","id"],wt=["data-postcode","data-urn","data-name"],_t={class:"block w-full text-sm font-medium"},$t={key:1,class:"p-2 block"},kt={key:1,class:"p-2 pt-3 inline-block"},xt=o("svg",{class:"animate-spin mr-1 h-4 w-4 text-gray-800",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),St=[xt],Ct={class:"block mb-6"},At=o("span",{class:"text-xs font-bold text-gray-400 block mb-1"},[U("Post code "),o("span",{class:"text-blue-500"},"*")],-1),Ft=["value","readonly"];function Et(e,t,n,s,r,p){var l,i,h,c,v,x;return d(),u(K,null,[o("input",{type:"hidden",name:"orgUrn",value:(l=e.urn)!=null?l:""},null,8,vt),o("label",gt,[bt,o("div",ft,[fe(o("input",{name:"orgName","onUpdate:modelValue":t[0]||(t[0]=a=>e.school=a),onInput:t[1]||(t[1]=(...a)=>e.delay&&e.delay(...a)),onFocus:t[2]||(t[2]=a=>e.handleFocus(!0)),onBlur:t[3]||(t[3]=a=>e.handleFocus(!1)),onKeydown:[t[4]||(t[4]=de(ie((...a)=>e.onArrowDown&&e.onArrowDown(...a),["prevent"]),["down"])),t[5]||(t[5]=de(ie((...a)=>e.onArrowUp&&e.onArrowUp(...a),["prevent"]),["up"])),t[6]||(t[6]=de(ie((...a)=>e.selectCurrentSelection&&e.selectCurrentSelection(...a),["prevent"]),["enter"]))],class:k(["block peer w-full px-2 py-2 text-sm text-gray-600 box-border bg-gray-100 rounded-lg pr-7",((i=e.attendeeFormErrors)==null?void 0:i.orgName)?"border-solid border-red-300":"border-solid border-gray-100"]),placeholder:"Search for a school or organisation","aria-owns":`metaseed-list-${e.uniqueId}`,"aria-autocomplete":"list",role:"combobox"},null,42,mt),[[Ae,e.school]]),((h=e.school)==null?void 0:h.length)>3?(d(),u("span",{key:0,onClick:t[7]||(t[7]=(...a)=>e.handleClear&&e.handleClear(...a)),class:"text-blue-800 bg-gray-100 block w-6 text-center flex items-center justify-center h-8 absolute right-0 top-1 cursor:pointer"},"\u2715")):m("",!0),fe(o("ul",{class:"absolute left-0 top-full mt-1 w-128 max-h-52 overflow-scroll z-10 bg-gray-100 rounded-lg shadow-xl",ref:"schoolDropdown","aria-expanded":e.showDropdown,role:"listbox",id:`metaseed-list-${e.uniqueId}`},[e.loadingApi?m("",!0):(d(!0),u(K,{key:0},ue(e.schools,(a,g)=>{var y,C,f,D,V,q,z,R,B,S,A,O,N,M;return d(),u("li",{key:(y=a==null?void 0:a.data)==null?void 0:y.urn,role:"option"},[(a==null?void 0:a.data)?(d(),u("span",{key:0,onMousedown:t[8]||(t[8]=(...P)=>e.handleSchoolSelect&&e.handleSchoolSelect(...P)),onTouch:t[9]||(t[9]=(...P)=>e.handleSchoolSelect&&e.handleSchoolSelect(...P)),role:"button","data-postcode":(C=a==null?void 0:a.data)==null?void 0:C.postcode,"data-urn":(f=a==null?void 0:a.data)==null?void 0:f.urn,"data-name":a==null?void 0:a.value,class:k(["p-2 pointer-all hover:bg-blue-600 hover:text-white focus:bg-blue-600 block group",e.currentSelectionIndex===g?"bg-blue-600 text-white":""])},[o("span",_t,_(a.value),1),o("span",{class:k(["block text-xs group-hover:text-white",e.currentSelectionIndex===g?"text-white":"text-gray-500"])},"[URN: "+_((V=(D=a==null?void 0:a.data)==null?void 0:D.urn)!=null?V:"-")+"] "+_((z=(q=a==null?void 0:a.data)==null?void 0:q.street)!=null?z:"-")+", "+_((B=(R=a==null?void 0:a.data)==null?void 0:R.town)!=null?B:"-")+" "+_((S=a==null?void 0:a.data)==null?void 0:S.postcode)+" (Age "+_((O=(A=a==null?void 0:a.data)==null?void 0:A.ageFrom)!=null?O:"/")+" - "+_((M=(N=a==null?void 0:a.data)==null?void 0:N.ageTo)!=null?M:"/")+")",3)],42,wt)):(d(),u("span",$t," There's no school that matches the input "))])}),128)),e.loadingApi?(d(),u("li",kt,St)):m("",!0)],8,yt),[[Fe,e.showDropdown]])])]),o("label",Ct,[At,o("input",{name:"postCode",value:e.postcode,readonly:((c=e.urn)==null?void 0:c.length)>0,class:k(["block w-full px-2 py-2 text-sm text-gray-600 appearance-none box-border bg-gray-100 rounded-lg",((v=e.urn)==null?void 0:v.length)>0?"text-gray-400 cursor-not-allowed":"",((x=e.attendeeFormErrors)==null?void 0:x.postCode)?"border-solid border-red-300":"border-solid border-gray-100"]),placeholder:"Enter a post code"},null,10,Ft)])],64)}var It=T(ht,[["render",Et]]);const Tt=E({components:{"input-school":It,"input-switch":ye,"status-approved":me},emits:["hideForm","saveAnother","submitForm"],props:{csrf:{type:String,required:!0},event:{type:String,required:!0},title:{type:String},values:{type:Object,default:{}},hideAnother:{type:Boolean,default:!1}},setup(e,{emit:t}){var V,q,z,R,B;const n=b(null);b(null),b(null);const s=b((q=(V=e.values)==null?void 0:V.approved)!=null?q:null),r=b(!1),p=b((B=(z=e.attendeeInput)==null?void 0:z.approved)!=null?B:((R=s.value)==null?void 0:R.length)>0?1:0),l=j(),{attendeeInput:i,attendeeFormErrors:h,loading:c,showForm:v,resetAttendeeInput:x}=L(l),a=S=>{if(S.preventDefault(),t("saveAnother",r.value),n.value){let A=new FormData(n.value);l.submitAttendee(A),t("submitForm")}},g=S=>{r.value=S.currentTarget.dataset.saveanother},y=()=>{l.resetForm(),t("hideForm")},C=S=>{S.keyCode===27&&y()},f=(S,A,O)=>{var N;s.value=A,p.value=((N=s.value)==null?void 0:N.length)>0?1:0},D=()=>{p.value=p.value==1?0:1};return G(()=>{var S,A;(S=n.value)==null||S.querySelectorAll('input[name="orgName"]')[0].focus(),v.value&&((A=n.value)==null||A.querySelectorAll('input[name="orgName"]')[0].focus())}),{form:n,attendeeInput:i,attendeeFormErrors:h,loading:c,showForm:v,urn:s,approved:p,handleSubmitButton:g,handleSubmit:a,hideForm:y,keyup:C,handleSchoolSelect:f,handleSchoolVerifyChange:D}}}),Nt=o("input",{type:"hidden",name:"action",value:"actions/craft-attendees/training/save"},null,-1),Dt=["value"],Vt=["value"],qt=["value"],zt={class:"grid grid-cols-3 gap-x-4"},Rt={class:"block mb-6"},Bt=o("span",{class:"text-xs font-bold text-gray-400 block mb-1"},"School is verified",-1),Ut={class:"grid grid-cols-3 gap-x-4"},Ot={class:"block mb-6"},Pt=o("span",{class:"text-xs font-bold text-gray-400 block mb-1"},[U("Name of attendee "),o("span",{class:"text-blue-500"},"*")],-1),Mt=["value"],Ht={class:"block mb-6"},Lt=o("span",{class:"text-xs font-bold text-gray-400 block mb-1"},[U("Email address of attendee "),o("span",{class:"text-blue-500"},"*")],-1),Kt=["value"],jt={class:"block mb-6"},Yt=o("span",{class:"text-xs font-bold text-gray-400 block mb-1"},"Subscribe for the newsletter",-1),Gt={class:"grid grid-cols-3 gap-x-4"},Jt={class:"block mb-6"},Qt=o("span",{class:"text-xs font-bold text-gray-400 block mb-1"},[U("Attendee's job role "),o("span",{class:"text-blue-500"},"*")],-1),Wt=["value"],Xt=ce('<option value="" default disabled class="text-gray-400">Select the job role of the attendee</option><option value="na">Not Applicable</option><option value="support">Support Staff</option><option value="leader-middle">Middle leader</option><option value="leader">Leadership</option><option value="teacher">Teacher</option>',6),Zt=[Xt],eo={class:"block mb-6"},to=o("span",{class:"text-xs font-bold text-gray-400 block mb-1"},[U("Attending days "),o("span",{class:"text-blue-500"},"*")],-1),oo=["value"],no=ce('<option default value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option>',10),so=[no],ao={class:"text-right"},lo={key:0,class:"animate-spin -ml-1 mr-1 h-3 w-3 text-emerald-800",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ro=o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),io=o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),uo=[ro,io],co=U(" Save and add another "),po={key:0,class:"animate-spin -ml-1 mr-1 h-3 w-3 text-emerald-800",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ho=o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),vo=o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),go=[ho,vo],bo=U(" Save ");function fo(e,t,n,s,r,p){var c,v,x,a,g,y,C,f,D,V,q,z,R,B,S,A,O,N,M,P,J,Q,W,X,Z,ee,te,oe,$;const l=F("status-approved"),i=F("input-school"),h=F("input-switch");return d(),u(K,null,[I(l,{approved:parseInt(e.approved),urn:e.urn,disabled:!(((c=e.urn)==null?void 0:c.length)>0)},null,8,["approved","urn","disabled"]),o("form",{ref:"form",method:"post",action:"","accept-charset":"UTF-8",class:"mt-8",onKeyup:t[3]||(t[3]=(...w)=>e.keyup&&e.keyup(...w)),onSubmit:t[4]||(t[4]=(...w)=>e.handleSubmit&&e.handleSubmit(...w))},[Nt,o("input",{type:"hidden",name:"event",value:e.event},null,8,Dt),o("input",{type:"hidden",name:"CRAFT_CSRF_TOKEN",value:e.csrf},null,8,Vt),o("input",{type:"hidden",name:"attendeeId",value:(g=(a=(v=e.attendeeInput)==null?void 0:v.id)!=null?a:(x=e.values)==null?void 0:x.id)!=null?g:""},null,8,qt),o("div",zt,[I(i,{values:e.values,onSchoolSelect:e.handleSchoolSelect},null,8,["values","onSchoolSelect"]),o("label",Rt,[Bt,I(h,{name:"approved",checked:e.approved,onChanged:e.handleSchoolVerifyChange},null,8,["checked","onChanged"])])]),o("div",Ut,[o("label",Ot,[Pt,o("input",{name:"name",value:(D=(f=(y=e.attendeeInput)==null?void 0:y.name)!=null?f:(C=e.values)==null?void 0:C.name)!=null?D:"",class:k(["block w-full px-2 py-2 text-sm text-gray-600 appearance-none box-border bg-gray-100 rounded-lg",((V=e.attendeeFormErrors)==null?void 0:V.name)?"border-solid border-red-300":"border-solid border-gray-100"]),placeholder:"Enter the name of the attendee"},null,10,Mt)]),o("label",Ht,[Lt,o("input",{name:"email",value:(B=(R=(q=e.attendeeInput)==null?void 0:q.email)!=null?R:(z=e.values)==null?void 0:z.email)!=null?B:"",class:k(["block w-full px-2 py-2 text-sm text-gray-600 appearance-none box-border bg-gray-100 rounded-lg",((S=e.attendeeFormErrors)==null?void 0:S.email)?"border-solid border-red-300":"border-solid border-gray-100"]),placeholder:"Enter the email of the attendee"},null,10,Kt)]),o("label",jt,[Yt,I(h,{name:"newsletter",checked:(M=(N=(A=e.attendeeInput)==null?void 0:A.newsletter)!=null?N:(O=e.values)==null?void 0:O.newsletter)!=null?M:0},null,8,["checked"])])]),o("div",Gt,[o("label",Jt,[Qt,o("select",{name:"jobRole",value:(W=(Q=(P=e.attendeeInput)==null?void 0:P.jobRole)!=null?Q:(J=e.values)==null?void 0:J.jobRole)!=null?W:"",class:k(["block h-10 px-1 rounded-md bg-gray-100 w-full",((X=e.attendeeFormErrors)==null?void 0:X.jobRole)?"border-solid border-red-300":"border-none"])},Zt,10,Wt)]),o("label",eo,[to,o("select",{name:"days",value:(oe=(te=(Z=e.attendeeInput)==null?void 0:Z.days)!=null?te:(ee=e.values)==null?void 0:ee.days)!=null?oe:1,class:k(["block h-10 px-1 rounded-md border-none w-40 bg-gray-100",(($=e.attendeeFormErrors)==null?void 0:$.days)?"border-solid border-red-300":""])},so,10,oo)])]),o("div",ao,[o("span",{role:"button",class:"inline-block bg-red-300 text-red-800 font-bold py-2 px-3 mr-2 text-sm rounded-lg cursor-pointer",onClick:t[0]||(t[0]=(...w)=>e.hideForm&&e.hideForm(...w))},"Cancel"),e.hideAnother?m("",!0):(d(),u("button",{key:0,class:"bg-emerald-300 text-emerald-800 font-bold py-2 px-3 text-sm rounded-lg cursor-pointer inline-block mr-2","data-saveanother":!0,onClick:t[1]||(t[1]=(...w)=>e.handleSubmitButton&&e.handleSubmitButton(...w))},[e.loading?(d(),u("svg",lo,uo)):m("",!0),co])),o("button",{class:"bg-emerald-300 text-emerald-800 font-bold py-2 px-3 text-sm rounded-lg cursor-pointer inline-block","data-saveanother":!1,onClick:t[2]||(t[2]=(...w)=>e.handleSubmitButton&&e.handleSubmitButton(...w))},[e.loading?(d(),u("svg",po,go)):m("",!0),bo])])],544)],64)}var he=T(Tt,[["render",fo]]);const mo=E({components:{"form-attendee":he},props:{csrf:{type:String,required:!0},attendee:{type:Object,required:!0},show:{type:Boolean,required:!0}},setup(e,{emit:t}){const n=j(),{showForm:s,attendeeSuccess:r}=L(n);return{showForm:s,handleCancel:()=>{t("hidePopup")},handleDelete:()=>{let i={};i.CRAFT_CSRF_TOKEN=e.csrf,i.action="actions/craft-attendees/training/delete",i.attendeeId=e.attendee.id,n.deleteAttendee(i)}}}}),yo={class:"max-h-screen text-center overflow-auto fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-72"},wo={class:"bg-white p-6 rounded-xl mb-10"},_o=o("h3",{class:"text-lg"},"Delete attendee",-1),$o={class:"flex justify-center"};function ko(e,t,n,s,r,p){return d(),u("div",{class:k(["transition-all duration-500 delay-50 ease-in-out fixed left-0 top-0 w-screen h-screen",e.show?"z-[100] opacity-100 bg-gray-900 bg-opacity-50":"z-0 opacity-0 pointer-events-none"])},[o("div",yo,[o("div",wo,[_o,o("div",$o,[o("button",{onClick:t[0]||(t[0]=(...l)=>e.handleDelete&&e.handleDelete(...l)),class:"block bg-emerald-300 text-emerald-800 font-bold mt-2 py-2 px-3 text-sm rounded-lg cursor-pointer"}," Confirm "),o("button",{onClick:t[1]||(t[1]=(...l)=>e.handleCancel&&e.handleCancel(...l)),class:"block bg-red-300 text-red-800 font-bold mt-2 py-2 px-3 text-sm rounded-lg cursor-pointer"}," Cancel ")])])])],2)}var xo=T(mo,[["render",ko]]);const So=E({components:{"form-attendee":he,"popup-delete-attendee":xo,"status-approved":me},props:{attendee:{type:Object,required:!0},csrf:{type:String,required:!0},event:{type:String,required:!0}},setup(e){const t=b(!1),n=b(!1),s=j(),{attendeeSuccess:r,loading:p}=L(s),l=b(!1),i=b(!1),h=b({na:"Not Applicable",support:"Support","leader-middle":"Middle leader",leader:"Leadership",teacher:"Teacher"}),c=()=>{t.value=!t.value},v=()=>{n.value=!n.value},x=()=>{i.value=!1},a=()=>{i.value=!0},g=()=>{l.value=!0},y=()=>{let f=re({},e.attendee);f.approved=1,f.CRAFT_CSRF_TOKEN=e.csrf,f.event=e.event,f.attendeeId=e.attendee.id,f.action="actions/craft-attendees/training/save",s.submitAttendee(f)},C=()=>{let f=re({},e.attendee);f.approved=0,f.CRAFT_CSRF_TOKEN=e.csrf,f.event=e.event,f.attendeeId=e.attendee.id,f.action="actions/craft-attendees/training/save",s.submitAttendee(f)};return G(()=>{l.value&&r.value&&(n.value=!1,l.value=!1)}),{expanded:t,edit:n,loading:p,showDeletePopup:i,jobRoles:h,toggle:c,handleEdit:v,submitEdit:g,handleApprove:y,handleDisapprove:C,handleDelete:a,handleHidePopup:x}}}),Co={class:"grid grid-cols-9 xl:grid-cols-11 w-full items-center"},Ao={class:"col-span-3 p-3 flex flex-nowrap items-center font-bold cursor-pointer"},Fo=o("span",{class:"inline-flex mb-0"},[o("input",{type:"checkbox"})],-1),Eo={class:"w-full whitespace-nowrap text-ellipsis overflow-hidden"},Io={key:0,class:"block w-4 h-4 xl:inline-block xl:w-auto xl:h-auto rounded-full text-xs bg-orange-300 text-orange-800 text-bold xl:px-4 xl:py-1"},To=o("span",{class:"opacity-0 pointer-events-none xl:opacity-100"},"Unverified",-1),No=[To],Do={key:1,class:"block w-4 h-4 xl:inline-block xl:w-auto xl:h-auto rounded-full text-xs bg-emerald-400 text-white text-bold xl:px-4 xl:py-1"},Vo=o("span",{class:"opacity-0 pointer-events-none xl:opacity-100"},"Verified",-1),qo=[Vo],zo={class:"text-right pr-8 box-border"},Ro=["href"],Bo={key:1,class:"pr-1"},Uo={key:0,class:"px-10 py-6 relative"},Oo={class:"border-t border-gray-200 border-solid pt-6 relative"},Po=o("h3",{class:"text-lg"},"Attendee details",-1),Mo={key:1,class:"absolute left-0 top-0 bg-white bg-opacity-50 z-10 w-full h-full"},Ho=o("div",{class:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2"},[o("svg",{class:"animate-spin -ml-1 mr-1 mt-1 h-10 w-10 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})])],-1),Lo=[Ho],Ko={key:2,class:"w-full pt-5"},jo={class:"grid grid-cols-3 gap-x-4"},Yo={class:"mb-6"},Go=o("span",{class:"text-xs font-bold text-gray-400 block"},"School / Organisation",-1),Jo={class:"text-base mt-1 block"},Qo={class:"mb-6"},Wo=o("span",{class:"text-xs font-bold text-gray-400 block"},"School or organisation post code",-1),Xo={class:"text-base mt-1 block"},Zo={class:"mb-6"},en=o("span",{class:"text-xs font-bold text-gray-400 block mb-2"},"Verified status",-1),tn={key:0,class:"inline-block rounded-full text-xs bg-orange-300 text-orange-800 text-bold px-4 py-1"},on={key:1,class:"inline-block rounded-full text-xs bg-emerald-400 text-white text-bold px-4 py-1"},nn={class:"grid grid-cols-3 gap-x-4"},sn={class:"mb-6"},an=o("span",{class:"text-xs font-bold text-gray-400 block"},"Name of the attendee",-1),ln={class:"text-base mt-1 block"},rn={class:"mb-6"},dn=o("span",{class:"text-xs font-bold text-gray-400 block"},"Email address of attendee",-1),un={class:"text-base mt-1 block"},cn={class:"mb-6"},pn=o("span",{class:"text-xs font-bold text-gray-400 block"},"Subscribed for the newsletter?",-1),hn={class:"text-base mt-1 block"},vn={class:"grid grid-cols-3 gap-x-4"},gn={class:"mb-6"},bn=o("span",{class:"text-xs font-bold text-gray-400 block"},"Attendee's job role",-1),fn={class:"text-base mt-1 block"},mn={class:"mb-6"},yn=o("span",{class:"text-xs font-bold text-gray-400 block"},"Days attended",-1),wn={class:"text-base mt-1 block"},_n={class:"text-right"};function $n(e,t,n,s,r,p){var c,v,x,a;const l=F("status-approved"),i=F("form-attendee"),h=F("popup-delete-attendee");return d(),u("div",{tabindex:"0",class:k(["w-full border-l-2 border-solid",e.expanded?"bg-blue-100 bg-opacity-10":"border-white",((c=e.attendee)==null?void 0:c.approved)&&e.expanded?"border-emerald-300":"",!((v=e.attendee)==null?void 0:v.approved)&&e.expanded?"border-orange-300":""])},[o("div",Co,[o("div",Ao,[Fo,o("span",{class:"inline-flex pl-2 flex-grow",onClick:t[0]||(t[0]=(...g)=>e.toggle&&e.toggle(...g))},_(e.attendee.orgName),1)]),o("div",{class:"col-span-2 box-border p-3 cursor-pointer flex items-center",onClick:t[1]||(t[1]=(...g)=>e.toggle&&e.toggle(...g))},_(e.attendee.name),1),o("div",{class:"col-span-1 xl:col-span-3 box-border p-3 cursor-pointer flex items-center",onClick:t[2]||(t[2]=(...g)=>e.toggle&&e.toggle(...g))},[o("span",Eo,_(e.attendee.email),1)]),o("div",{class:"box-border p-3 cursor-pointer flex items-center",onClick:t[3]||(t[3]=(...g)=>e.toggle&&e.toggle(...g))},_(e.attendee.days),1),o("div",{class:"box-border p-3 cursor-pointer",onClick:t[4]||(t[4]=(...g)=>e.toggle&&e.toggle(...g))},[e.attendee.approved==0||!e.attendee.approved?(d(),u("span",Io,No)):(d(),u("span",Do,qo))]),o("div",zo,[e.attendee.orgUrn?(d(),u("a",{key:0,href:`https://get-information-schools.service.gov.uk/Establishments/Establishment/Details/${(x=e.attendee)==null?void 0:x.orgUrn}`,target:"_blank",class:"text-blue-800 text-xl"}," \u2197 ",8,Ro)):(d(),u("span",Bo,"-"))])]),e.expanded?(d(),u("div",Uo,[o("div",Oo,[Po,e.edit?m("",!0):(d(),pe(l,{key:0,approved:parseInt(e.attendee.approved),urn:e.attendee.orgUrn},null,8,["approved","urn"])),e.loading?(d(),u("div",Mo,Lo)):m("",!0),e.edit?m("",!0):(d(),u("div",Ko,[o("div",jo,[o("div",Yo,[Go,o("span",Jo,_(e.attendee.orgName),1)]),o("div",Qo,[Wo,o("span",Xo,_(e.attendee.postCode),1)]),o("div",Zo,[en,e.attendee.approved==0||!e.attendee.approved?(d(),u("span",tn,"Unverified")):(d(),u("span",on,"Verified"))])]),o("div",nn,[o("div",sn,[an,o("span",ln,_(e.attendee.name),1)]),o("div",rn,[dn,o("span",un,_(e.attendee.email),1)]),o("div",cn,[pn,o("span",hn,_(e.attendee.newsletter==1?"Yes":"No"),1)])]),o("div",vn,[o("div",gn,[bn,o("span",fn,_((a=e.jobRoles[e.attendee.jobRole])!=null?a:"-"),1)]),o("div",mn,[yn,o("span",wn,_(e.attendee.days),1)])]),o("div",_n,[o("button",{onClick:t[5]||(t[5]=(...g)=>e.handleDelete&&e.handleDelete(...g)),class:"inline-block bg-red-300 text-red-800 font-bold mr-2 py-2 px-3 text-sm rounded-lg cursor-pointer"}," Delete "),e.attendee.approved==0||!e.attendee.approved?(d(),u("button",{key:0,onClick:t[6]||(t[6]=(...g)=>e.handleApprove&&e.handleApprove(...g)),class:"inline-block bg-emerald-300 text-emerald-800 font-bold mr-2 py-2 px-3 text-sm rounded-lg cursor-pointer"}," Verify ")):(d(),u("button",{key:1,onClick:t[7]||(t[7]=(...g)=>e.handleDisapprove&&e.handleDisapprove(...g)),class:"inline-block bg-orange-300 text-orange-800 font-bold py-2 px-3 text-sm rounded-lg cursor-pointer mr-2"}," Unverify ")),o("button",{onClick:t[8]||(t[8]=(...g)=>e.handleEdit&&e.handleEdit(...g)),class:"inline-block bg-gray-300 text-gray-800 py-2 px-3 text-sm font-bold rounded-lg cursor-pointer"},"Edit")])])),e.edit?(d(),pe(i,{key:3,csrf:e.csrf,values:e.attendee,event:e.event,onHideForm:e.handleEdit,onSubmitForm:e.submitEdit,hideAnother:!0},null,8,["csrf","values","event","onHideForm","onSubmitForm"])):m("",!0),I(h,{show:e.showDeletePopup,csrf:e.csrf,attendee:e.attendee,onHidePopup:e.handleHidePopup},null,8,["show","csrf","attendee","onHidePopup"])])])):m("",!0)],2)}var kn=T(So,[["render",$n]]);const xn=E({components:{"list-item-attendee":kn,"status-saved":Re},props:{event:{type:String,required:!0},csrf:{type:String,required:!0}},setup(e){const t=j(),{attendees:n,loading:s,totalAttendees:r,attendeeSuccess:p}=L(t),l=b(30),i=b(0),h=b(0),c=b(!1),v=()=>{i.value=i.value+l.value,t.fetchAttendees(e.event,l.value,i.value)};return G(()=>{h.value=r.value-i.value-l.value,p.value&&(c.value=!0,setTimeout(()=>{c.value=!1},3e3))}),t.fetchAttendees(e.event,l.value,i.value),{showSuccess:c,attendees:n,loading:s,offset:i,totalAttendees:r,remainingEntries:h,handleLoadMore:v}}}),Sn=o("div",{class:"grid grid-cols-9 xl:grid-cols-11 bg-gray-100 py-2 items-center"},[o("div",{class:"col-span-3 p-3 text-left text-xs font-semibold text-gray-600 uppercase flex flex-nowrap items-center"},[o("span",{class:"inline-flex mb-0"},[o("input",{type:"checkbox",indeterminate:"true"})]),o("span",{class:"inline-flex pl-2"},"School / Organisation")]),o("div",{class:"col-span-2 p-3 text-left text-xs font-semibold text-gray-600 uppercase"}," Name of attendee "),o("div",{class:"col-span-1 xl:col-span-3 p-3 text-left text-xs font-semibold text-gray-600 uppercase"}," Email "),o("div",{class:"p-3 text-left text-xs font-semibold text-gray-600 uppercase"}," Days "),o("div",{class:"p-3 text-left text-xs font-semibold text-gray-600 uppercase"}," Status "),o("div",{class:"p-3 text-right pr-8 text-lg font-semibold text-gray-600 uppercase"},"\u2197")],-1),Cn={class:"rounded-xl bg-white overflow-hidden min-h-16"},An={key:0,class:"w-full pt-2"},Fn={key:1,class:"animate-spin ml-4 mt-5 mb-3 h-6 w-6 text-gray-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},En=o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),In=o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),Tn=[En,In],Nn={key:2,class:"p-6"},Dn={class:"ml-4 mt-4 relative text-center"},Vn={class:"inline-block text-gray-500 absolute left-0 top-1/2 -translate-y-1/2"};function qn(e,t,n,s,r,p){var h;const l=F("status-saved"),i=F("list-item-attendee");return d(),u(K,null,[I(l,{show:e.showSuccess},null,8,["show"]),Sn,o("div",Cn,[e.attendees&&e.attendees.length>0?(d(),u("div",An,[(d(!0),u(K,null,ue(e.attendees,(c,v)=>(d(),u("article",{class:k([e.attendees.length-1!==v?"border-b border-gray-100 border-solid":""])},[I(i,{event:e.event,csrf:e.csrf,attendee:c},null,8,["event","csrf","attendee"])],2))),256))])):m("",!0),e.loading?(d(),u("svg",Fn,Tn)):m("",!0),(!e.attendees||e.attendees.length===0)&&!e.loading?(d(),u("p",Nn,"There are currently no attendees for this event")):m("",!0)]),o("div",Dn,[o("span",Vn,"Total results: "+_(!e.attendees||e.attendees.length>0?(h=e.attendees)==null?void 0:h.length:"0"),1),o("button",{class:k(["bg-gray-300 text-gray-800 font-bold py-2 px-3 text-sm rounded-lg cursor-pointer",e.remainingEntries>0?"":"opacity-0 pointer-events-none"]),onClick:t[0]||(t[0]=(...c)=>e.handleLoadMore&&e.handleLoadMore(...c))},"Load more ("+_(e.remainingEntries)+")",3)])],64)}var zn=T(xn,[["render",qn]]);const Rn=E({components:{"input-switch":ye},props:{event:{type:String,required:!0},csrf:{type:String,required:!0}},setup(e){const t=j(),{followOnSupportOptions:n,followOnSupportSelectedOptions:s,loading:r}=L(t),p=i=>{let h={};h.value=i,h.CRAFT_CSRF_TOKEN=e.csrf,h.event=e.event,h.action="actions/craft-attendees/training/saveOption",t.saveOption(h)},l=i=>t.followOnSupportSelectedOptions.filter(c=>c.optionId==i.id).length>0?1:0;return t.fetchOptions(e.event),{followOnSupportOptions:n,followOnSupportSelectedOptions:s,loading:r,handleChange:p,getChecked:l}}}),Bn={class:"bg-white w-full p-6 rounded-xl box-border"},Un={class:"block flex items-center"},On={key:0,class:"bg-gray-200 bg-opacity-50 absolute left-0 top-0 w-full h-full"},Pn=ce('<div class="absolute left-1/2 top-1/2 -translate-y-1/2 -translate-x-1/2"><svg class="animate-spin h-10 w-10 text-gray-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg></div><div class="block bg-gray-200 bg-opacity-50 w-6 left-full pb-6 top-0 h-full absolute z-10"></div><div class="block bg-gray-200 bg-opacity-50 h-6 top-full left-0 w-full absolute z-10"></div>',3),Mn=[Pn];function Hn(e,t,n,s,r,p){const l=F("input-switch");return d(),u(K,null,[o("div",Bn,[(d(!0),u(K,null,ue(e.followOnSupportOptions,i=>(d(),u("div",Un,[I(l,{name:"option",checked:e.getChecked(i),label:i.name,value:i.value,onChanged:h=>e.handleChange(i.value)},null,8,["checked","label","value","onChanged"])]))),256))]),e.loading?(d(),u("div",On,Mn)):m("",!0)],64)}var Ln=T(Rn,[["render",Hn]]);const Kn=E({components:{"form-attendee":he},props:{csrf:{type:String,required:!0},event:{type:String,required:!0}},setup(){const e=j(),{showForm:t,attendeeSuccess:n}=L(e),s=b(!1),r=()=>{e.setShowFrom(!1)},p=l=>{s.value=l};return G(()=>{n.value&&(r(),s.value=="true"&&Ee(()=>{e.setShowFrom(!0)}))}),{showForm:t,setAnotherSave:p,hideForm:r}}}),jn={class:"max-h-screen overflow-auto fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-3/4 max-w-4xl"},Yn={class:"bg-white px-6 pb-6 rounded-xl mb-10"},Gn={class:"relative"},Jn=o("h3",{class:"text-lg pt-6"},"Add attendee",-1);function Qn(e,t,n,s,r,p){const l=F("form-attendee");return d(),u("div",{class:k(["transition-all duration-500 delay-50 ease-in-out fixed left-0 top-0 w-screen h-screen",e.showForm?"z-[100] opacity-100 bg-gray-900 bg-opacity-50 poiner-events-all":"z-0 opacity-0 pointer-events-none"])},[o("div",jn,[o("div",Yn,[o("div",Gn,[Jn,e.showForm?(d(),pe(l,{key:0,csrf:e.csrf,event:e.event,onHideForm:e.hideForm,onSaveAnother:e.setAnotherSave},null,8,["csrf","event","onHideForm","onSaveAnother"])):m("",!0)])])])],2)}var Wn=T(Kn,[["render",Qn]]);const Xn=E({components:{"button-add":Ve,"popup-add-attendee":Wn,"list-attendees":zn,"list-support":Ln},props:{csrf:{type:String,required:!0},event:{type:String,required:!0}},setup(){const e=b("attendee");return{activePane:e,handleTabNavigation:n=>{e.value=n}}}}),Zn={class:"mt-10 w-full relative z-10"},es={role:"menubar",class:"flex"},ts=o("span",{class:"inline-flex w-4"},null,-1),os={key:0,class:"bg-gray-100 p-6 pt-10 -mt-2.5 -ml-6 relative"},ns={class:"w-full flex field"},ss=o("div",{class:"heading flex-grow"},[o("label",{class:"text-xl inline-block w-full"},"Attendees"),o("span",null,"Use the action buttons to either bulk upload from a CSV file or manually manage attendee data.")],-1),as=o("a",{href:"#",class:"bg-gray-300 text-gray-800 font-bold py-2 px-3 text-sm rounded-lg"},"Import",-1),ls=o("div",{class:"block bg-gray-100 w-6 left-full pb-6 top-0 h-full absolute"},null,-1),rs=o("div",{class:"block bg-gray-100 h-6 top-full left-0 w-full absolute"},null,-1),ds={key:1,class:"bg-gray-100 p-6 pt-10 -mt-2.5 -ml-6 relative"},is=o("div",{class:"w-full flex field"},[o("div",{class:"heading flex-grow"},[o("label",{class:"text-xl inline-block w-full"},"Follow on support"),o("span",null,"Indicate the relevent follow on support offered to attendees of the event.")])],-1),us=o("div",{class:"block bg-gray-100 w-6 left-full pb-6 top-0 h-full absolute"},null,-1),cs=o("div",{class:"block bg-gray-100 h-6 top-full left-0 w-full absolute"},null,-1);function ps(e,t,n,s,r,p){const l=F("button-add"),i=F("popup-add-attendee"),h=F("list-attendees"),c=F("list-support");return d(),u(K,null,[o("nav",Zn,[o("ul",es,[o("li",{role:"menuitem",onClick:t[0]||(t[0]=v=>e.handleTabNavigation("attendee")),class:k(["font-bold text-base text-gray-600 border-b-2 border-solid hover:border-blue-600 pb-2 cursor-pointer",e.activePane==="attendee"?"border-blue-600":"border-gray-100"])}," Attendees ",2),ts,o("li",{role:"menuitem",onClick:t[1]||(t[1]=v=>e.handleTabNavigation("support")),class:k(["font-bold text-base text-gray-600 border-b-2 border-solid hover:border-blue-600 pb-2 cursor-pointer",e.activePane==="support"?"border-blue-600":"border-gray-100"])}," Follow on support ",2)])]),e.activePane==="attendee"?(d(),u("section",os,[o("div",ns,[ss,as,I(l,{label:"Add"})]),I(i,{csrf:e.csrf,event:e.event},null,8,["csrf","event"]),I(h,{csrf:e.csrf,event:e.event},null,8,["csrf","event"]),ls,rs])):m("",!0),e.activePane==="support"?(d(),u("section",ds,[is,I(c,{csrf:e.csrf,event:e.event},null,8,["csrf","event"]),us,cs])):m("",!0)],64)}var hs=T(Xn,[["render",ps]]);const vs=E({components:{"tabpane-attendees":hs}}),gs=async()=>{const e=Ie(re({},vs));e.use(Te()),e.mount("#training")};gs().then(e=>{});
//# sourceMappingURL=attendees.0dba5e15.js.map

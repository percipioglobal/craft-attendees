var $e=Object.defineProperty;var ge=Object.getOwnPropertySymbols;var ke=Object.prototype.hasOwnProperty,xe=Object.prototype.propertyIsEnumerable;var be=(e,t,n)=>t in e?$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,re=(e,t)=>{for(var n in t||(t={}))ke.call(t,n)&&be(e,n,t[n]);if(ge)for(var n of ge(t))xe.call(t,n)&&be(e,n,t[n]);return e};import{d as Se,a as J,b as I,s as K,c as u,t as _,o as i,n as x,r as b,w as Q,e as y,f as o,g as M,h as Ae,i as fe,v as Ce,j as de,k as ie,l as Fe,F as j,m as ue,p as C,q as E,u as ce,x as pe,y as Ie,z as Ee,A as Ne}from"./vendor.9f38f2b7.js";var we,_e;const le=(_e=(we=window==null?void 0:window.Attendee)==null?void 0:we.cpUrl)!=null?_e:"https://researchschool.org.uk/cp",Y=Se("trainings",{state:()=>({attendees:null,totalAttendees:null,attendeeInput:null,attendeeFormErrors:!1,attendeeSuccess:!1,showForm:!1,loading:!1,loadingApi:!1,schools:null,followOnSupportOptions:null}),actions:{fetchOptions(e){const t=this;this.loading=!0,J({method:"get",url:`${le}/craft-attendees/trainings/fetch-support-options/${e}`}).then(function(n){var s,r;t.loading=!1,t.followOnSupportOptions=(s=n.data)==null?void 0:s.options,t.followOnSupportSelectedOptions=(r=n.data)==null?void 0:r.selectedOptions})},saveOption(e){const t=this;this.loading=!0,J({method:"post",url:`${le}/actions/craft-attendees/training/save-support-options`,data:e}).then(function(n){t.loading=!1})},async fetchSchools(e){var t;if(e){this.loadingApi=!0;const s=await J.create({baseURL:`https://api.v2.metaseed.io/schools/?mode=legacy&query=${e}`,timeout:3e3}).get("");(s==null?void 0:s.data)?(this.schools=(t=s.data)==null?void 0:t.suggestions,this.loadingApi=!1):this.loadingApi=!1}},deleteAttendee(e){const t=this;this.loading=!0,J({method:"post",url:`${le}/actions/craft-attendees/training/delete`,data:e}).then(function(n){t.loading=!1,t.attendees=t.attendees.filter(s=>s.id!=e.attendeeId)})},submitAttendee(e){let t={};if(e instanceof FormData)for(var n of e.entries())t[n[0]]=n[1];else t=e;this.attendeeFormErrors=!1,this.loading=!0,this.attendeeSuccess=!1,this.attendeeInput=t;const s=this;J({method:"post",url:`${le}/actions/craft-attendees/training/save`,data:e}).then(function(r){var p;if(!r.data.success)s.attendeeFormErrors=r.data.errors,s.loading=!1,s.attendeeSuccess=!1;else{let l=s.attendees.filter(h=>{var c,g;return h.id==((g=(c=r==null?void 0:r.data)==null?void 0:c.attendee)==null?void 0:g.id)});const d=s.attendees.findIndex(h=>{var c,g;return h.id==((g=(c=r==null?void 0:r.data)==null?void 0:c.attendee)==null?void 0:g.id)});l.length>0?(l=l[0],l.name=t==null?void 0:t.name,l.orgName=t==null?void 0:t.orgName,l.orgUrn=t==null?void 0:t.orgUrn,l.postCode=t==null?void 0:t.postCode,l.days=t==null?void 0:t.days,l.email=t==null?void 0:t.email,l.newsletter=t==null?void 0:t.newsletter,l.approved=t==null?void 0:t.approved,l.jobRole=t==null?void 0:t.jobRole,s.attendees[d]=l):s.attendees.unshift((p=r==null?void 0:r.data)==null?void 0:p.attendee),s.loading=!1,s.attendeeFormErrors=!1,s.attendeeSuccess=!0,s.attendeeInput=null}})},fetchAttendees(e,t,n){const s=this;this.loading=!0,J({method:"get",url:`${le}/craft-attendees/trainings/attendees/${e}/${t}/${n}`}).then(function(r){var p,l,d,h;s.loading=!1,s.totalAttendees=parseInt((l=(p=r==null?void 0:r.data)==null?void 0:p.meta)==null?void 0:l.total),s.attendees=n!==0?s.attendees.concat((d=r==null?void 0:r.data)==null?void 0:d.attendees):(h=r==null?void 0:r.data)==null?void 0:h.attendees})},setShowFrom(e){this.attendeeFormErrors=!1,this.showForm=e},resetForm(){this.loading=!1,this.attendeeFormErrors=!1,this.attendeeInput=null},clearSchools(){this.schools=null}}});var N=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n};const Te=I({setup(){const e=Y(),{showForm:t}=K(e);return{showForm:t,toggle:()=>{e.setShowFrom(!0)}}}});function De(e,t,n,s,r,p){return i(),u("button",{class:"bg-emerald-300 text-emerald-800 font-bold py-2 px-3 text-sm rounded-lg cursor-pointer",onClick:t[0]||(t[0]=(...l)=>e.toggle&&e.toggle(...l))},_(e.showForm?"Close form":"Add attendee"),1)}var Ve=N(Te,[["render",De]]);const qe=I({props:{show:{type:Boolean,default:!1}}});function ze(e,t,n,s,r,p){return i(),u("div",{class:x(["fixed left-1/2 top-0 z-[100] bg-emerald-400 text-emerald-800 px-8 py-2 rounded-bl-lg rounded-br-lg font-bold transition-all duration-500",e.show?"opacity-100":"opacity-0 pointer-events-none"])},"Saved succesfully",2)}var Re=N(qe,[["render",ze]]);const Be=I({props:{approved:{type:Number},urn:{type:String,default:""},disabled:{type:Boolean,default:!1}},setup(e){const t=b(0),n=b(e.urn);return Q(()=>{n.value=e.urn,e.urn||(n.value=""),e.disabled?t.value=0:e.approved==1&&n.value.length>0?t.value=1:e.approved==0&&n.value.length>0?t.value=2:e.approved==1&&n.value.length==0?t.value=3:e.approved==0&&n.value.length==0?t.value=4:t.value=0}),{status:t,urnVal:n}}}),Ue={class:"absolute right-0 top-8 text-xs text-gray-600"},Oe={key:0,class:"flex items-center"},Pe=o("span",{class:"inline-block w-3 h-3 bg-gray-400 rounded-full"},null,-1),Me=o("span",null,"Use the fields below to add attendee data. All data must be verified to count towards reporting metrics.",-1),He=[Pe,Me],Le={key:1,class:"flex items-center"},Ke=o("span",{class:"inline-block w-3 h-3 bg-emerald-400 rounded-full"},null,-1),je=M("School verified and linked to "),Ye=["href"],Ge={key:2,class:"flex items-center"},Je=o("span",{class:"inline-block w-3 h-3 bg-orange-400 rounded-full"},null,-1),Qe=M("School pending verification. Linked to "),We=["href"],Xe={key:3,class:"flex items-center"},Ze=o("span",{class:"inline-block w-3 h-3 border-2 border-solid border-emerald-400 bg-emerald-100 rounded-full"},null,-1),et=o("span",null,"Organisation verified. Not linked to government establishment data",-1),tt=[Ze,et],ot={key:4,class:"flex items-center"},nt=o("span",{class:"inline-block w-3 h-3 border-2 border-solid border-orange-400 bg-orange-100 rounded-full"},null,-1),st=o("span",null,"Organisation pending verification. Not linked to government establishment data.",-1),at=[nt,st];function lt(e,t,n,s,r,p){return i(),u("div",Ue,[e.status===0?(i(),u("p",Oe,He)):y("",!0),e.status===1?(i(),u("p",Le,[Ke,o("span",null,[je,o("a",{href:`https://get-information-schools.service.gov.uk/Establishments/Establishment/Details/${e.urnVal}`,class:"underline text-gray-600",target:"_blank"},"government establishment data",8,Ye)])])):y("",!0),e.status===2?(i(),u("p",Ge,[Je,o("span",null,[Qe,o("a",{href:`https://get-information-schools.service.gov.uk/Establishments/Establishment/Details/${e.urnVal}`,class:"underline text-gray-600",target:"_blank"},"government establishment data",8,We)])])):y("",!0),e.status===3?(i(),u("p",Xe,tt)):y("",!0),e.status===4?(i(),u("p",ot,at)):y("",!0)])}var me=N(Be,[["render",lt]]);const rt=I({props:{label:{type:String,required:!1},name:{type:String,required:!0},label:{type:String,default:""},checked:{default:0}},setup(e,{emit:t}){const n=b(0);return Q(()=>{n.value=e.checked==0?0:1}),{toggle:()=>{n.value=n.value==0?1:0,t("changed",n.value)},checkedValue:n}}}),dt={class:"inline-block relative flex items-center cursor-pointer"},it=["name","value","checked"],ut={class:"peer-focus:ring-2 peer-focus:ring-opacity-50 peer-focus:ring-blue-700 peer-focus:shadow-lg outline-none rounded-full inline-block cursor-pointer"},ct={key:0,class:"inline-flex pl-2"};function pt(e,t,n,s,r,p){return i(),u("label",dt,[o("input",{name:e.name,type:"checkbox",class:"peer sr-only",onClick:t[0]||(t[0]=(...l)=>e.toggle&&e.toggle(...l)),value:e.checkedValue,checked:e.checkedValue==1},null,8,it),o("div",ut,[o("div",{class:x(["block h-6 rounded-full w-10 cursor-pointer bg-opacity-100",e.checkedValue==1?"bg-emerald-100":"bg-indigo-100"])},null,2),o("div",{class:x(["absolute w-4 h-4 transition rounded-full left-1 top-1 flex items-center not-sr-only",e.checkedValue==1?"bg-emerald-700 transform translate-x-full":"bg-gray-400"])},null,2)]),e.label.length>0?(i(),u("span",ct,_(e.label),1)):y("",!0)])}var ye=N(rt,[["render",pt]]);const ht=I({props:{values:{type:Object,default:{}}},emits:["schoolSelect","schoolInput"],setup(e,{emit:t}){var D,V,$,A,G,H,W,X,Z,ee,te,oe;const n=b(null),s=Y(),r=b(Math.floor(Math.random()*100)+Date.now()),{attendeeInput:p,attendeeFormErrors:l,schools:d,loadingApi:h}=K(s),c=b((A=($=(D=p.value)==null?void 0:D.orgName)!=null?$:(V=e.values)==null?void 0:V.orgName)!=null?A:""),g=b((X=(W=(G=p.value)==null?void 0:G.orgUrn)!=null?W:(H=e.values)==null?void 0:H.orgUrn)!=null?X:""),k=b((oe=(te=(Z=p.value)==null?void 0:Z.postCode)!=null?te:(ee=e.values)==null?void 0:ee.postCode)!=null?oe:""),a=b(null),v=b(!1),w=b(0),S=b(!0),m=f=>{var F,L,ne,se,ae,ve;c.value=(L=(F=f.currentTarget)==null?void 0:F.dataset)==null?void 0:L.name,g.value=(se=(ne=f.currentTarget)==null?void 0:ne.dataset)==null?void 0:se.urn,k.value=(ve=(ae=f.currentTarget)==null?void 0:ae.dataset)==null?void 0:ve.postcode,S.value=!1,t("schoolSelect",c.value,g.value,k.value),v.value=!1,s.clearSchools()},q=()=>{S.value=!0,c.value.length>2&&(v.value=!0,s.fetchSchools(c.value))},O=f=>{var F;((F=c.value)==null?void 0:F.length)===0&&s.clearSchools(),v.value=f},P=()=>{a.value&&clearTimeout(a.value),a.value=setTimeout(q,200)},z=()=>{var f,F;w.value=w.value<((f=d.value)==null?void 0:f.length)-1?w.value+1:((F=d.value)==null?void 0:F.length)-1,n.value.querySelectorAll("li")[w.value].scrollIntoView({block:"nearest"})},R=()=>{w.value=w.value>0?w.value-1:0,n.value.querySelectorAll("li")[w.value].scrollIntoView({block:"nearest"})},B=()=>{var F,L,ne,se,ae;const f={currentTarget:{dataset:{name:(F=d.value[w.value])==null?void 0:F.value,urn:(ne=(L=d.value[w.value])==null?void 0:L.data)==null?void 0:ne.urn,postcode:(ae=(se=d.value[w.value])==null?void 0:se.data)==null?void 0:ae.postcode}}};m(f)},U=()=>{var f;c.value=null,((f=g.value)==null?void 0:f.length)>0&&T()};Ae(c,(f,F)=>{var L;f!==F&&((L=g.value)==null?void 0:L.length)>0&&S.value&&T(),t("schoolInput",f||""),S.value=!0});const T=()=>{g.value=null,k.value=null,t("schoolSelect",c.value,g.value,k.value),v.value=!1,s.clearSchools()};return{attendeeInput:p,attendeeFormErrors:l,school:c,schools:d,urn:g,uniqueId:r,postcode:k,showDropdown:v,schoolDropdown:n,currentSelectionIndex:w,clearResults:S,loadingApi:h,delay:P,handleSchoolSelect:m,handleSchoolInput:q,handleFocus:O,handleClear:U,onArrowDown:z,onArrowUp:R,selectCurrentSelection:B}}}),vt=["value"],gt={class:"block mb-6"},bt=o("span",{class:"text-xs font-bold text-gray-400 block mb-1"},[M("School / Organisation "),o("span",{class:"text-blue-500"},"*")],-1),ft={class:"w-full relative"},mt=["aria-owns"],yt=["aria-expanded","id"],wt=["data-postcode","data-urn","data-name"],_t={class:"block w-full text-sm font-medium"},$t={key:1,class:"p-2 block"},kt={key:1,class:"p-2 pt-3 inline-block"},xt=o("svg",{class:"animate-spin mr-1 h-4 w-4 text-gray-800",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),St=[xt],At={class:"block mb-6"},Ct=o("span",{class:"text-xs font-bold text-gray-400 block mb-1"},"Post code",-1),Ft=["value","readonly"];function It(e,t,n,s,r,p){var l,d,h,c,g,k;return i(),u(j,null,[o("input",{type:"hidden",name:"orgUrn",value:(l=e.urn)!=null?l:""},null,8,vt),o("label",gt,[bt,o("div",ft,[fe(o("input",{name:"orgName","onUpdate:modelValue":t[0]||(t[0]=a=>e.school=a),onInput:t[1]||(t[1]=(...a)=>e.delay&&e.delay(...a)),onFocus:t[2]||(t[2]=a=>e.handleFocus(!0)),onBlur:t[3]||(t[3]=a=>e.handleFocus(!1)),onKeydown:[t[4]||(t[4]=de(ie((...a)=>e.onArrowDown&&e.onArrowDown(...a),["prevent"]),["down"])),t[5]||(t[5]=de(ie((...a)=>e.onArrowUp&&e.onArrowUp(...a),["prevent"]),["up"])),t[6]||(t[6]=de(ie((...a)=>e.selectCurrentSelection&&e.selectCurrentSelection(...a),["prevent"]),["enter"]))],class:x(["block peer w-full px-2 py-2 text-sm text-gray-600 box-border bg-gray-100 rounded-lg pr-7",((d=e.attendeeFormErrors)==null?void 0:d.orgName)?"border-solid border-red-300":"border-solid border-gray-100"]),placeholder:"Search for a school or organisation","aria-owns":`metaseed-list-${e.uniqueId}`,"aria-autocomplete":"list",role:"combobox"},null,42,mt),[[Ce,e.school]]),((h=e.school)==null?void 0:h.length)>3?(i(),u("span",{key:0,onClick:t[7]||(t[7]=(...a)=>e.handleClear&&e.handleClear(...a)),class:"text-blue-800 bg-gray-100 block w-6 text-center flex items-center justify-center h-8 absolute right-0 top-1 cursor:pointer"},"\u2715")):y("",!0),fe(o("ul",{class:"absolute left-0 top-full mt-1 w-128 max-h-52 overflow-scroll z-10 bg-gray-100 rounded-lg shadow-xl",ref:"schoolDropdown","aria-expanded":e.showDropdown,role:"listbox",id:`metaseed-list-${e.uniqueId}`},[e.loadingApi?y("",!0):(i(!0),u(j,{key:0},ue(e.schools,(a,v)=>{var w,S,m,q,O,P,z,R,B,U,T,D,V,$;return i(),u("li",{key:(w=a==null?void 0:a.data)==null?void 0:w.urn,role:"option"},[(a==null?void 0:a.data)?(i(),u("span",{key:0,onMousedown:t[8]||(t[8]=(...A)=>e.handleSchoolSelect&&e.handleSchoolSelect(...A)),onTouch:t[9]||(t[9]=(...A)=>e.handleSchoolSelect&&e.handleSchoolSelect(...A)),role:"button","data-postcode":(S=a==null?void 0:a.data)==null?void 0:S.postcode,"data-urn":(m=a==null?void 0:a.data)==null?void 0:m.urn,"data-name":a==null?void 0:a.value,class:x(["p-2 pointer-all hover:bg-blue-600 hover:text-white focus:bg-blue-600 block group",e.currentSelectionIndex===v?"bg-blue-600 text-white":""])},[o("span",_t,_(a.value),1),o("span",{class:x(["block text-xs group-hover:text-white",e.currentSelectionIndex===v?"text-white":"text-gray-500"])},"[URN: "+_((O=(q=a==null?void 0:a.data)==null?void 0:q.urn)!=null?O:"-")+"] "+_((z=(P=a==null?void 0:a.data)==null?void 0:P.street)!=null?z:"-")+", "+_((B=(R=a==null?void 0:a.data)==null?void 0:R.town)!=null?B:"-")+" "+_((U=a==null?void 0:a.data)==null?void 0:U.postcode)+" (Age "+_((D=(T=a==null?void 0:a.data)==null?void 0:T.ageFrom)!=null?D:"/")+" - "+_(($=(V=a==null?void 0:a.data)==null?void 0:V.ageTo)!=null?$:"/")+")",3)],42,wt)):(i(),u("span",$t," There's no school that matches the input "))])}),128)),e.loadingApi?(i(),u("li",kt,St)):y("",!0)],8,yt),[[Fe,e.showDropdown]])])]),o("label",At,[Ct,o("input",{name:"postCode",value:e.postcode,readonly:((c=e.urn)==null?void 0:c.length)>0,class:x(["block w-full px-2 py-2 text-sm text-gray-600 appearance-none box-border bg-gray-100 rounded-lg",((g=e.urn)==null?void 0:g.length)>0?"text-gray-400 cursor-not-allowed":"",((k=e.attendeeFormErrors)==null?void 0:k.postCode)?"border-solid border-red-300":"border-solid border-gray-100"]),placeholder:"Enter a post code"},null,10,Ft)])],64)}var Et=N(ht,[["render",It]]);const Nt=I({components:{"input-school":Et,"input-switch":ye,"status-approved":me},emits:["hideForm","saveAnother","submitForm"],props:{csrf:{type:String,required:!0},event:{type:String,required:!0},title:{type:String},values:{type:Object,default:{}},hideAnother:{type:Boolean,default:!1}},setup(e,{emit:t}){var z,R,B,U,T,D,V;const n=b(null);b(null),b(null);const s=b((R=(z=e.values)==null?void 0:z.urn)!=null?R:null),r=b(!1),p=b((T=(B=e.attendeeInput)==null?void 0:B.approved)!=null?T:((U=s.value)==null?void 0:U.length)>0?1:0),l=b((V=(D=e.values)==null?void 0:D.orgName)!=null?V:""),d=Y(),{attendeeInput:h,attendeeFormErrors:c,loading:g,showForm:k,resetAttendeeInput:a}=K(d),v=$=>{if($.preventDefault(),t("saveAnother",r.value),n.value){let A=new FormData(n.value);d.submitAttendee(A),t("submitForm")}},w=$=>{r.value=$.currentTarget.dataset.saveanother},S=()=>{d.resetForm(),t("hideForm")},m=$=>{$.keyCode===27&&S()},q=($,A,G)=>{var H;s.value=A,p.value=((H=s.value)==null?void 0:H.length)>0?1:0},O=$=>{l.value=$},P=()=>{p.value=p.value==1?0:1};return Q(()=>{var $,A;($=n.value)==null||$.querySelectorAll('input[name="orgName"]')[0].focus(),k.value&&((A=n.value)==null||A.querySelectorAll('input[name="orgName"]')[0].focus())}),{form:n,attendeeInput:h,attendeeFormErrors:c,loading:g,showForm:k,urn:s,approved:p,school:l,handleSubmitButton:w,handleSubmit:v,hideForm:S,keyup:m,handleSchoolInput:O,handleSchoolSelect:q,handleSchoolVerifyChange:P}}}),Tt=o("input",{type:"hidden",name:"action",value:"actions/craft-attendees/training/save"},null,-1),Dt=["value"],Vt=["value"],qt=["value"],zt={class:"grid grid-cols-3 gap-x-4"},Rt={class:"block mb-6"},Bt=o("span",{class:"text-xs font-bold text-gray-400 block mb-1"},"School is verified",-1),Ut={class:"grid grid-cols-3 gap-x-4"},Ot={class:"block mb-6"},Pt=o("span",{class:"text-xs font-bold text-gray-400 block mb-1"},[M("Name of attendee "),o("span",{class:"text-blue-500"},"*")],-1),Mt=["value"],Ht={class:"block mb-6"},Lt=o("span",{class:"text-xs font-bold text-gray-400 block mb-1"},[M("Email address of attendee "),o("span",{class:"text-blue-500"},"*")],-1),Kt=["value"],jt={class:"block mb-6"},Yt=o("span",{class:"text-xs font-bold text-gray-400 block mb-1"},"Subscribe for the newsletter",-1),Gt={class:"grid grid-cols-3 gap-x-4"},Jt={class:"block mb-6"},Qt=o("span",{class:"text-xs font-bold text-gray-400 block mb-1"},[M("Attendee's job role "),o("span",{class:"text-blue-500"},"*")],-1),Wt=["value"],Xt=ce('<option value="" default disabled class="text-gray-400">Select the job role of the attendee</option><option value="na">Not Applicable</option><option value="support">Support Staff</option><option value="leader-middle">Middle leader</option><option value="leader">Leadership</option><option value="teacher">Teacher</option>',6),Zt=[Xt],eo={class:"block mb-6"},to=o("span",{class:"text-xs font-bold text-gray-400 block mb-1"},[M("Attending days "),o("span",{class:"text-blue-500"},"*")],-1),oo=["value"],no=ce('<option default value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option>',10),so=[no],ao={class:"text-right"},lo={key:0,class:"animate-spin -ml-1 mr-1 h-3 w-3 text-emerald-800",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ro=o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),io=o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),uo=[ro,io],co=M(" Save and add another "),po={key:0,class:"animate-spin -ml-1 mr-1 h-3 w-3 text-emerald-800",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ho=o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),vo=o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),go=[ho,vo],bo=M(" Save ");function fo(e,t,n,s,r,p){var c,g,k,a,v,w,S,m,q,O,P,z,R,B,U,T,D,V,$,A,G,H,W,X,Z,ee,te,oe;const l=C("status-approved"),d=C("input-school"),h=C("input-switch");return i(),u(j,null,[E(l,{approved:parseInt(e.approved),urn:e.urn,disabled:e.school.length===0},null,8,["approved","urn","disabled"]),o("form",{ref:"form",method:"post",action:"","accept-charset":"UTF-8",class:"mt-8",onKeyup:t[3]||(t[3]=(...f)=>e.keyup&&e.keyup(...f)),onSubmit:t[4]||(t[4]=(...f)=>e.handleSubmit&&e.handleSubmit(...f))},[Tt,o("input",{type:"hidden",name:"event",value:e.event},null,8,Dt),o("input",{type:"hidden",name:"CRAFT_CSRF_TOKEN",value:e.csrf},null,8,Vt),o("input",{type:"hidden",name:"attendeeId",value:(a=(k=(c=e.attendeeInput)==null?void 0:c.id)!=null?k:(g=e.values)==null?void 0:g.id)!=null?a:""},null,8,qt),o("div",zt,[E(d,{values:e.values,onSchoolSelect:e.handleSchoolSelect,onSchoolInput:e.handleSchoolInput},null,8,["values","onSchoolSelect","onSchoolInput"]),o("label",Rt,[Bt,E(h,{name:"approved",checked:e.approved,onChanged:e.handleSchoolVerifyChange},null,8,["checked","onChanged"])])]),o("div",Ut,[o("label",Ot,[Pt,o("input",{name:"name",value:(m=(S=(v=e.attendeeInput)==null?void 0:v.name)!=null?S:(w=e.values)==null?void 0:w.name)!=null?m:"",class:x(["block w-full px-2 py-2 text-sm text-gray-600 appearance-none box-border bg-gray-100 rounded-lg",((q=e.attendeeFormErrors)==null?void 0:q.name)?"border-solid border-red-300":"border-solid border-gray-100"]),placeholder:"Enter the name of the attendee"},null,10,Mt)]),o("label",Ht,[Lt,o("input",{name:"email",value:(R=(z=(O=e.attendeeInput)==null?void 0:O.email)!=null?z:(P=e.values)==null?void 0:P.email)!=null?R:"",class:x(["block w-full px-2 py-2 text-sm text-gray-600 appearance-none box-border bg-gray-100 rounded-lg",((B=e.attendeeFormErrors)==null?void 0:B.email)?"border-solid border-red-300":"border-solid border-gray-100"]),placeholder:"Enter the email of the attendee"},null,10,Kt)]),o("label",jt,[Yt,E(h,{name:"newsletter",checked:(V=(D=(U=e.attendeeInput)==null?void 0:U.newsletter)!=null?D:(T=e.values)==null?void 0:T.newsletter)!=null?V:0},null,8,["checked"])])]),o("div",Gt,[o("label",Jt,[Qt,o("select",{name:"jobRole",value:(H=(G=($=e.attendeeInput)==null?void 0:$.jobRole)!=null?G:(A=e.values)==null?void 0:A.jobRole)!=null?H:"",class:x(["block h-10 px-1 rounded-md bg-gray-100 w-full",((W=e.attendeeFormErrors)==null?void 0:W.jobRole)?"border-solid border-red-300":"border-none"])},Zt,10,Wt)]),o("label",eo,[to,o("select",{name:"days",value:(te=(ee=(X=e.attendeeInput)==null?void 0:X.days)!=null?ee:(Z=e.values)==null?void 0:Z.days)!=null?te:1,class:x(["block h-10 px-1 rounded-md border-none w-40 bg-gray-100",((oe=e.attendeeFormErrors)==null?void 0:oe.days)?"border-solid border-red-300":""])},so,10,oo)])]),o("div",ao,[o("span",{role:"button",class:"inline-block bg-gray-300 text-gray-800 font-bold py-2 px-3 mr-2 text-sm rounded-lg cursor-pointer",onClick:t[0]||(t[0]=(...f)=>e.hideForm&&e.hideForm(...f))},"Cancel"),e.hideAnother?y("",!0):(i(),u("button",{key:0,class:"bg-emerald-300 text-emerald-800 font-bold py-2 px-3 text-sm rounded-lg cursor-pointer inline-block mr-2","data-saveanother":!0,onClick:t[1]||(t[1]=(...f)=>e.handleSubmitButton&&e.handleSubmitButton(...f))},[e.loading?(i(),u("svg",lo,uo)):y("",!0),co])),o("button",{class:"bg-emerald-300 text-emerald-800 font-bold py-2 px-3 text-sm rounded-lg cursor-pointer inline-block","data-saveanother":!1,onClick:t[2]||(t[2]=(...f)=>e.handleSubmitButton&&e.handleSubmitButton(...f))},[e.loading?(i(),u("svg",po,go)):y("",!0),bo])])],544)],64)}var he=N(Nt,[["render",fo]]);const mo=I({components:{"form-attendee":he},props:{csrf:{type:String,required:!0},attendee:{type:Object,required:!0},show:{type:Boolean,required:!0}},setup(e,{emit:t}){const n=Y(),{showForm:s,attendeeSuccess:r}=K(n);return{showForm:s,handleCancel:()=>{t("hidePopup")},handleDelete:()=>{let d={};d.CRAFT_CSRF_TOKEN=e.csrf,d.action="actions/craft-attendees/training/delete",d.attendeeId=e.attendee.id,n.deleteAttendee(d),t("hidePopup")}}}}),yo={class:"max-h-screen text-center overflow-auto fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-80"},wo={class:"bg-white p-6 rounded-xl mb-10"},_o=o("h3",{class:"text-lg"},"Delete this attendee",-1),$o={class:"flex justify-center"};function ko(e,t,n,s,r,p){return i(),u("div",{class:x(["transition-all duration-500 delay-50 ease-in-out fixed left-0 top-0 w-screen h-screen",e.show?"z-[100] opacity-100 bg-gray-900 bg-opacity-50":"z-0 opacity-0 pointer-events-none"])},[o("div",yo,[o("div",wo,[_o,o("div",$o,[o("button",{onClick:t[0]||(t[0]=(...l)=>e.handleCancel&&e.handleCancel(...l)),class:"block bg-gray-300 text-gray-800 font-bold mt-2 py-2 px-3 text-sm rounded-lg cursor-pointer"}," Cancel "),o("button",{onClick:t[1]||(t[1]=(...l)=>e.handleDelete&&e.handleDelete(...l)),class:"block bg-red-300 text-red-800 font-bold mt-2 py-2 px-3 text-sm rounded-lg cursor-pointer"}," Yes, delete this attendee ")])])])],2)}var xo=N(mo,[["render",ko]]);const So=I({components:{"form-attendee":he,"popup-delete-attendee":xo,"status-approved":me},props:{attendee:{type:Object,required:!0},csrf:{type:String,required:!0},event:{type:String,required:!0}},setup(e){const t=b(!1),n=b(!1),s=Y(),{attendeeSuccess:r,loading:p}=K(s),l=b(!1),d=b(!1),h=b({na:"Not Applicable",support:"Support","leader-middle":"Middle leader",leader:"Leadership",teacher:"Teacher"}),c=()=>{t.value=!t.value},g=()=>{n.value=!n.value},k=()=>{d.value=!1},a=()=>{d.value=!0},v=()=>{l.value=!0},w=()=>{let m=re({},e.attendee);m.approved=1,m.CRAFT_CSRF_TOKEN=e.csrf,m.event=e.event,m.attendeeId=e.attendee.id,m.action="actions/craft-attendees/training/save",s.submitAttendee(m)},S=()=>{let m=re({},e.attendee);m.approved=0,m.CRAFT_CSRF_TOKEN=e.csrf,m.event=e.event,m.attendeeId=e.attendee.id,m.action="actions/craft-attendees/training/save",s.submitAttendee(m)};return Q(()=>{l.value&&r.value&&(n.value=!1,l.value=!1)}),{expanded:t,edit:n,loading:p,showDeletePopup:d,jobRoles:h,toggle:c,handleEdit:g,submitEdit:v,handleApprove:w,handleDisapprove:S,handleDelete:a,handleHidePopup:k}}}),Ao={class:"grid grid-cols-9 xl:grid-cols-11 w-full items-center"},Co={class:"col-span-3 p-3 flex flex-nowrap items-center font-bold cursor-pointer"},Fo=o("span",{class:"inline-flex mb-0"},[o("input",{type:"checkbox"})],-1),Io={class:"w-full whitespace-nowrap text-ellipsis overflow-hidden"},Eo={key:0,class:"block w-4 h-4 xl:inline-block xl:w-auto xl:h-auto rounded-full text-xs bg-orange-300 text-orange-800 text-bold xl:px-4 xl:py-1"},No=o("span",{class:"opacity-0 pointer-events-none xl:opacity-100"},"Unverified",-1),To=[No],Do={key:1,class:"block w-4 h-4 xl:inline-block xl:w-auto xl:h-auto rounded-full text-xs bg-emerald-400 text-white text-bold xl:px-4 xl:py-1"},Vo=o("span",{class:"opacity-0 pointer-events-none xl:opacity-100"},"Verified",-1),qo=[Vo],zo={class:"text-right pr-8 box-border"},Ro=["href"],Bo={key:1,class:"pr-1"},Uo={key:0,class:"px-10 py-6 relative"},Oo={class:"pt-6 relative"},Po=o("h3",{class:"text-lg"},"Attendee details",-1),Mo={key:1,class:"absolute left-0 top-0 bg-white bg-opacity-50 z-10 w-full h-full"},Ho=o("div",{class:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2"},[o("svg",{class:"animate-spin -ml-1 mr-1 mt-1 h-10 w-10 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})])],-1),Lo=[Ho],Ko={key:2,class:"w-full pt-5"},jo={class:"grid grid-cols-3 gap-x-4"},Yo={class:"mb-6"},Go=o("span",{class:"text-xs font-bold text-gray-400 block"},"School / Organisation",-1),Jo={class:"text-base mt-1 block"},Qo={class:"mb-6"},Wo=o("span",{class:"text-xs font-bold text-gray-400 block"},"School or organisation post code",-1),Xo={class:"text-base mt-1 block"},Zo={class:"mb-6"},en=o("span",{class:"text-xs font-bold text-gray-400 block mb-2"},"Verified status",-1),tn={key:0,class:"inline-block rounded-full text-xs bg-orange-300 text-orange-800 text-bold px-4 py-1"},on={key:1,class:"inline-block rounded-full text-xs bg-emerald-400 text-white text-bold px-4 py-1"},nn={class:"grid grid-cols-3 gap-x-4"},sn={class:"mb-6"},an=o("span",{class:"text-xs font-bold text-gray-400 block"},"Name of the attendee",-1),ln={class:"text-base mt-1 block"},rn={class:"mb-6"},dn=o("span",{class:"text-xs font-bold text-gray-400 block"},"Email address of attendee",-1),un={class:"text-base mt-1 block"},cn={class:"mb-6"},pn=o("span",{class:"text-xs font-bold text-gray-400 block"},"Subscribed for the newsletter?",-1),hn={class:"text-base mt-1 block"},vn={class:"grid grid-cols-3 gap-x-4"},gn={class:"mb-6"},bn=o("span",{class:"text-xs font-bold text-gray-400 block"},"Attendee's job role",-1),fn={class:"text-base mt-1 block"},mn={class:"mb-6"},yn=o("span",{class:"text-xs font-bold text-gray-400 block"},"Days attended",-1),wn={class:"text-base mt-1 block"},_n={class:"text-right"};function $n(e,t,n,s,r,p){var c,g,k,a;const l=C("status-approved"),d=C("form-attendee"),h=C("popup-delete-attendee");return i(),u("div",{tabindex:"0",class:x(["w-full border-l-2 border-solid",e.expanded?"bg-blue-100 bg-opacity-10":"border-white",((c=e.attendee)==null?void 0:c.approved)&&e.expanded?"border-emerald-300":"",!((g=e.attendee)==null?void 0:g.approved)&&e.expanded?"border-orange-300":""])},[o("div",Ao,[o("div",Co,[Fo,o("span",{class:"inline-flex pl-2 flex-grow",onClick:t[0]||(t[0]=(...v)=>e.toggle&&e.toggle(...v))},_(e.attendee.orgName),1)]),o("div",{class:"col-span-2 box-border p-3 cursor-pointer flex items-center",onClick:t[1]||(t[1]=(...v)=>e.toggle&&e.toggle(...v))},_(e.attendee.name),1),o("div",{class:"col-span-1 xl:col-span-3 box-border p-3 cursor-pointer flex items-center",onClick:t[2]||(t[2]=(...v)=>e.toggle&&e.toggle(...v))},[o("span",Io,_(e.attendee.email),1)]),o("div",{class:"box-border p-3 cursor-pointer flex items-center",onClick:t[3]||(t[3]=(...v)=>e.toggle&&e.toggle(...v))},_(e.attendee.days),1),o("div",{class:"box-border p-3 cursor-pointer",onClick:t[4]||(t[4]=(...v)=>e.toggle&&e.toggle(...v))},[e.attendee.approved==0||!e.attendee.approved?(i(),u("span",Eo,To)):(i(),u("span",Do,qo))]),o("div",zo,[e.attendee.orgUrn?(i(),u("a",{key:0,href:`https://get-information-schools.service.gov.uk/Establishments/Establishment/Details/${(k=e.attendee)==null?void 0:k.orgUrn}`,target:"_blank",class:"text-blue-800 text-xl"}," \u2197 ",8,Ro)):(i(),u("span",Bo,"-"))])]),e.expanded?(i(),u("div",Uo,[o("div",Oo,[Po,e.edit?y("",!0):(i(),pe(l,{key:0,approved:parseInt(e.attendee.approved),urn:e.attendee.orgUrn},null,8,["approved","urn"])),e.loading?(i(),u("div",Mo,Lo)):y("",!0),e.edit?y("",!0):(i(),u("div",Ko,[o("div",jo,[o("div",Yo,[Go,o("span",Jo,_(e.attendee.orgName),1)]),o("div",Qo,[Wo,o("span",Xo,_(e.attendee.postCode),1)]),o("div",Zo,[en,e.attendee.approved==0||!e.attendee.approved?(i(),u("span",tn,"Unverified")):(i(),u("span",on,"Verified"))])]),o("div",nn,[o("div",sn,[an,o("span",ln,_(e.attendee.name),1)]),o("div",rn,[dn,o("span",un,_(e.attendee.email),1)]),o("div",cn,[pn,o("span",hn,_(e.attendee.newsletter==1?"Yes":"No"),1)])]),o("div",vn,[o("div",gn,[bn,o("span",fn,_((a=e.jobRoles[e.attendee.jobRole])!=null?a:"-"),1)]),o("div",mn,[yn,o("span",wn,_(e.attendee.days),1)])]),o("div",_n,[o("button",{onClick:t[5]||(t[5]=(...v)=>e.handleDelete&&e.handleDelete(...v)),class:"inline-block bg-red-300 text-red-800 font-bold mr-2 py-2 px-3 text-sm rounded-lg cursor-pointer"}," Delete "),e.attendee.approved==0||!e.attendee.approved?(i(),u("button",{key:0,onClick:t[6]||(t[6]=(...v)=>e.handleApprove&&e.handleApprove(...v)),class:"inline-block bg-emerald-300 text-emerald-800 font-bold mr-2 py-2 px-3 text-sm rounded-lg cursor-pointer"}," Verify ")):(i(),u("button",{key:1,onClick:t[7]||(t[7]=(...v)=>e.handleDisapprove&&e.handleDisapprove(...v)),class:"inline-block bg-orange-300 text-orange-800 font-bold py-2 px-3 text-sm rounded-lg cursor-pointer mr-2"}," Unverify ")),o("button",{onClick:t[8]||(t[8]=(...v)=>e.handleEdit&&e.handleEdit(...v)),class:"inline-block bg-gray-300 text-gray-800 py-2 px-3 text-sm font-bold rounded-lg cursor-pointer"},"Edit")])])),e.edit?(i(),pe(d,{key:3,csrf:e.csrf,values:e.attendee,event:e.event,onHideForm:e.handleEdit,onSubmitForm:e.submitEdit,hideAnother:!0},null,8,["csrf","values","event","onHideForm","onSubmitForm"])):y("",!0),E(h,{show:e.showDeletePopup,csrf:e.csrf,attendee:e.attendee,onHidePopup:e.handleHidePopup},null,8,["show","csrf","attendee","onHidePopup"])])])):y("",!0)],2)}var kn=N(So,[["render",$n]]);const xn=I({components:{"list-item-attendee":kn,"status-saved":Re},props:{event:{type:String,required:!0},csrf:{type:String,required:!0}},setup(e){const t=Y(),{attendees:n,loading:s,totalAttendees:r,attendeeSuccess:p}=K(t),l=b(30),d=b(0),h=b(0),c=b(!1),g=()=>{d.value=d.value+l.value,t.fetchAttendees(e.event,l.value,d.value)};return Q(()=>{h.value=r.value-d.value-l.value,p.value&&(c.value=!0,setTimeout(()=>{c.value=!1},3e3))}),t.fetchAttendees(e.event,l.value,d.value),{showSuccess:c,attendees:n,loading:s,offset:d,totalAttendees:r,remainingEntries:h,handleLoadMore:g}}}),Sn=o("div",{class:"grid grid-cols-9 xl:grid-cols-11 bg-gray-100 py-2 items-center"},[o("div",{class:"col-span-3 p-3 text-left text-xs font-semibold text-gray-600 uppercase flex flex-nowrap items-center"},[o("span",{class:"inline-flex mb-0"},[o("input",{type:"checkbox",indeterminate:"true"})]),o("span",{class:"inline-flex pl-2"},"School / Organisation")]),o("div",{class:"col-span-2 p-3 text-left text-xs font-semibold text-gray-600 uppercase"}," Name of attendee "),o("div",{class:"col-span-1 xl:col-span-3 p-3 text-left text-xs font-semibold text-gray-600 uppercase"}," Email "),o("div",{class:"p-3 text-left text-xs font-semibold text-gray-600 uppercase"}," Days "),o("div",{class:"p-3 text-left text-xs font-semibold text-gray-600 uppercase"}," Status "),o("div",{class:"p-3 text-right pr-8 text-lg font-semibold text-gray-600 uppercase"},"\u2197")],-1),An={class:"rounded-xl bg-white overflow-hidden min-h-16"},Cn={key:0,class:"w-full pt-2"},Fn={key:1,class:"animate-spin ml-4 mt-5 mb-3 h-6 w-6 text-gray-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},In=o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),En=o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),Nn=[In,En],Tn={key:2,class:"p-6"},Dn={class:"ml-4 mt-4 relative text-center"},Vn={class:"inline-block text-gray-500 absolute left-0 top-1/2 -translate-y-1/2"};function qn(e,t,n,s,r,p){var h;const l=C("status-saved"),d=C("list-item-attendee");return i(),u(j,null,[E(l,{show:e.showSuccess},null,8,["show"]),Sn,o("div",An,[e.attendees&&e.attendees.length>0?(i(),u("div",Cn,[(i(!0),u(j,null,ue(e.attendees,(c,g)=>(i(),u("article",{class:x([e.attendees.length-1!==g?"border-b border-gray-100 border-solid":""])},[E(d,{event:e.event,csrf:e.csrf,attendee:c},null,8,["event","csrf","attendee"])],2))),256))])):y("",!0),e.loading?(i(),u("svg",Fn,Nn)):y("",!0),(!e.attendees||e.attendees.length===0)&&!e.loading?(i(),u("p",Tn,"There are currently no attendees for this event")):y("",!0)]),o("div",Dn,[o("span",Vn,"Total results: "+_(!e.attendees||e.attendees.length>0?(h=e.attendees)==null?void 0:h.length:"0"),1),o("button",{class:x(["bg-gray-300 text-gray-800 font-bold py-2 px-3 text-sm rounded-lg cursor-pointer",e.remainingEntries>0?"":"opacity-0 pointer-events-none"]),onClick:t[0]||(t[0]=(...c)=>e.handleLoadMore&&e.handleLoadMore(...c))},"Load more ("+_(e.remainingEntries)+")",3)])],64)}var zn=N(xn,[["render",qn]]);const Rn=I({components:{"input-switch":ye},props:{event:{type:String,required:!0},csrf:{type:String,required:!0}},setup(e){const t=Y(),{followOnSupportOptions:n,followOnSupportSelectedOptions:s,loading:r}=K(t),p=d=>{let h={};h.value=d,h.CRAFT_CSRF_TOKEN=e.csrf,h.event=e.event,h.action="actions/craft-attendees/training/saveOption",t.saveOption(h)},l=d=>t.followOnSupportSelectedOptions.filter(c=>c.optionId==d.id).length>0?1:0;return t.fetchOptions(e.event),{followOnSupportOptions:n,followOnSupportSelectedOptions:s,loading:r,handleChange:p,getChecked:l}}}),Bn={class:"bg-white w-full p-6 rounded-xl box-border"},Un={class:"block flex items-center"},On={key:0,class:"bg-gray-200 bg-opacity-50 absolute left-0 top-0 w-full h-full"},Pn=ce('<div class="absolute left-1/2 top-1/2 -translate-y-1/2 -translate-x-1/2"><svg class="animate-spin h-10 w-10 text-gray-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg></div><div class="block bg-gray-200 bg-opacity-50 w-6 left-full pb-6 top-0 h-full absolute z-10"></div><div class="block bg-gray-200 bg-opacity-50 h-6 top-full left-0 w-full absolute z-10"></div>',3),Mn=[Pn];function Hn(e,t,n,s,r,p){const l=C("input-switch");return i(),u(j,null,[o("div",Bn,[(i(!0),u(j,null,ue(e.followOnSupportOptions,d=>(i(),u("div",Un,[E(l,{name:"option",checked:e.getChecked(d),label:d.name,value:d.value,onChanged:h=>e.handleChange(d.value)},null,8,["checked","label","value","onChanged"])]))),256))]),e.loading?(i(),u("div",On,Mn)):y("",!0)],64)}var Ln=N(Rn,[["render",Hn]]);const Kn=I({components:{"form-attendee":he},props:{csrf:{type:String,required:!0},event:{type:String,required:!0}},setup(){const e=Y(),{showForm:t,attendeeSuccess:n}=K(e),s=b(!1),r=()=>{e.setShowFrom(!1)},p=l=>{s.value=l};return Q(()=>{n.value&&(r(),s.value=="true"&&Ie(()=>{e.setShowFrom(!0)}))}),{showForm:t,setAnotherSave:p,hideForm:r}}}),jn={class:"max-h-screen overflow-auto fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-3/4 max-w-4xl"},Yn={class:"bg-white px-6 pb-6 rounded-xl mb-10"},Gn={class:"relative"},Jn=o("h3",{class:"text-lg pt-6"},"Add attendee",-1);function Qn(e,t,n,s,r,p){const l=C("form-attendee");return i(),u("div",{class:x(["transition-all duration-500 delay-50 ease-in-out fixed left-0 top-0 w-screen h-screen",e.showForm?"z-[100] opacity-100 bg-gray-900 bg-opacity-50 poiner-events-all":"z-0 opacity-0 pointer-events-none"])},[o("div",jn,[o("div",Yn,[o("div",Gn,[Jn,e.showForm?(i(),pe(l,{key:0,csrf:e.csrf,event:e.event,onHideForm:e.hideForm,onSaveAnother:e.setAnotherSave},null,8,["csrf","event","onHideForm","onSaveAnother"])):y("",!0)])])])],2)}var Wn=N(Kn,[["render",Qn]]);const Xn=I({components:{"button-add":Ve,"popup-add-attendee":Wn,"list-attendees":zn,"list-support":Ln},props:{csrf:{type:String,required:!0},event:{type:String,required:!0}},setup(){const e=b("attendee");return{activePane:e,handleTabNavigation:n=>{e.value=n}}}}),Zn={class:"mt-10 w-full relative z-10"},es={role:"menubar",class:"flex"},ts=o("span",{class:"inline-flex w-4"},null,-1),os={key:0,class:"bg-gray-100 p-6 pt-10 -mt-2.5 -ml-6 relative"},ns={class:"w-full flex field"},ss=o("div",{class:"heading flex-grow"},[o("label",{class:"text-xl inline-block w-full"},"Attendees"),o("span",null,"Use the action buttons to either bulk upload from a CSV file or manually manage attendee data.")],-1),as=o("a",{href:"#",class:"bg-gray-300 text-gray-800 font-bold py-2 px-3 text-sm rounded-lg"},"Import",-1),ls=o("div",{class:"block bg-gray-100 w-6 left-full pb-6 top-0 h-full absolute"},null,-1),rs=o("div",{class:"block bg-gray-100 h-6 top-full left-0 w-full absolute"},null,-1),ds={key:1,class:"bg-gray-100 p-6 pt-10 -mt-2.5 -ml-6 relative"},is=o("div",{class:"w-full flex field"},[o("div",{class:"heading flex-grow"},[o("label",{class:"text-xl inline-block w-full"},"Follow on support"),o("span",null,"Indicate the relevent follow on support offered to attendees of the event.")])],-1),us=o("div",{class:"block bg-gray-100 w-6 left-full pb-6 top-0 h-full absolute"},null,-1),cs=o("div",{class:"block bg-gray-100 h-6 top-full left-0 w-full absolute"},null,-1);function ps(e,t,n,s,r,p){const l=C("button-add"),d=C("popup-add-attendee"),h=C("list-attendees"),c=C("list-support");return i(),u(j,null,[o("nav",Zn,[o("ul",es,[o("li",{role:"menuitem",onClick:t[0]||(t[0]=g=>e.handleTabNavigation("attendee")),class:x(["font-bold text-base text-gray-600 border-b-2 border-solid hover:border-blue-600 pb-2 cursor-pointer",e.activePane==="attendee"?"border-blue-600":"border-gray-100"])}," Attendees ",2),ts,o("li",{role:"menuitem",onClick:t[1]||(t[1]=g=>e.handleTabNavigation("support")),class:x(["font-bold text-base text-gray-600 border-b-2 border-solid hover:border-blue-600 pb-2 cursor-pointer",e.activePane==="support"?"border-blue-600":"border-gray-100"])}," Follow on support ",2)])]),e.activePane==="attendee"?(i(),u("section",os,[o("div",ns,[ss,as,E(l,{label:"Add"})]),E(d,{csrf:e.csrf,event:e.event},null,8,["csrf","event"]),E(h,{csrf:e.csrf,event:e.event},null,8,["csrf","event"]),ls,rs])):y("",!0),e.activePane==="support"?(i(),u("section",ds,[is,E(c,{csrf:e.csrf,event:e.event},null,8,["csrf","event"]),us,cs])):y("",!0)],64)}var hs=N(Xn,[["render",ps]]);const vs=I({components:{"tabpane-attendees":hs}}),gs=async()=>{const e=Ee(re({},vs));e.use(Ne()),e.mount("#training")};gs().then(e=>{});
//# sourceMappingURL=attendees.a84f484a.js.map

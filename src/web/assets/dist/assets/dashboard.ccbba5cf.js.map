{"version":3,"file":"dashboard.ccbba5cf.js","sources":["../../../../../buildchain/src/store/dashboard.ts","../../../../../buildchain/src/js/dashboard.ts"],"sourcesContent":["import { defineStore } from \"pinia\"\nimport axios from 'axios'\n\nconst ENDPOINT = window?.Attendee?.cpUrl ?? 'https://researchschool.org.uk/cp'\nconst CSRF = window?.Attendee?.csrf ?? ''\n\nexport const useDashboardStore = defineStore('trainings', {\n    state:() => ({\n        events: null,\n        attendees: null,\n        followOnSupport: null,\n        followOnSupportOptions: null,\n        period: 3,\n        site: 'main',\n        loading: false\n    }),\n    actions: {\n        fetchEvents(ids){\n            const self = this;\n            this.loading = true;\n\n            const site = this.site\n            const period = this.period\n\n            const obj = {\n                CRAFT_CSRF_TOKEN : CSRF,\n                events: ids,\n            }\n\n            axios({\n                method: 'post',\n                url: `${ENDPOINT}/actions/craft-attendees/dashboard/fetch`,\n                data: obj\n            })\n            .then(function (response) {\n                self.loading = false\n                self.events = response?.data?.events\n                self.attendees = response?.data?.attendees\n                self.followOnSupport = response?.data?.follow_on_support\n                self.followOnSupportOptions = response?.data?.follow_on_support_options\n            });\n\n            // axios({\n            //     method: 'get',\n            //     url: `${ENDPOINT}/craft-attendees/dashboard/events/${site}/${period}`,\n            // })\n            // .then(function (response) {\n            //     self.loading = false\n            //     self.events = response?.data?.events\n            //     self.attendees = response?.data?.attendees\n            //     self.followOnSupport = response?.data?.follow_on_support\n            //     self.followOnSupportOptions = response?.data?.follow_on_support_options\n            // });\n        },\n    }\n})\n","// Import our CSS\nimport '@/css/app.pcss';\nimport Dashboard from '@/vue/dashboard/Dashboard.vue';\nimport { createApp } from 'vue';\nimport { createPinia } from 'pinia'\n\nconst main = async () => {\n    const app = createApp(Dashboard);\n    app.use(createPinia())\n\n    const vm = app.mount('#dashboard');\n\n    return vm\n};\n\nmain().then( (vm) => {\n});\n"],"names":["Dashboard"],"mappings":"8UAGA,KAAM,GAAW,iCAAQ,WAAR,cAAkB,QAAlB,OAA2B,2CAC5C,KAAM,GAAO,iCAAQ,WAAR,cAAkB,OAAlB,OAA0B,GAE1B,EAAoB,EAAY,YAAa,CACtD,MAAM,MACF,OAAQ,KACR,UAAW,KACX,gBAAiB,KACjB,uBAAwB,KACxB,OAAQ,EACR,KAAM,OACN,QAAS,KAEb,QAAS,CACL,YAAY,EAAI,MACN,GAAO,UACR,QAAU,GAEF,KAAK,KACH,KAAK,YAEd,GAAM,CACR,iBAAmB,EACnB,OAAQ,KAGN,CACF,OAAQ,OACR,IAAK,GAAG,4CACR,KAAM,IAET,KAAK,SAAU,EAAU,eACjB,QAAU,KACV,OAAS,oBAAU,OAAV,cAAgB,SACzB,UAAY,oBAAU,OAAV,cAAgB,YAC5B,gBAAkB,oBAAU,OAAV,cAAgB,oBAClC,uBAAyB,oBAAU,OAAV,cAAgB,q8YCjCxD,GAAO,SAAY,MACf,GAAM,EAAUA,aAClB,IAAI,KAEG,EAAI,MAAM,eAKzB,KAAO,KAAM,AAAC,GAAO"}
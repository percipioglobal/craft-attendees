{"version":3,"file":"dashboard.9a91b138.js","sources":["../../../../../buildchain/src/store/dashboard.ts","../../../../../buildchain/src/js/dashboard.ts"],"sourcesContent":["import { defineStore } from \"pinia\"\nimport axios from 'axios'\n\nconst ENDPOINT = window?.Attendee?.cpUrl ?? 'https://researchschool.org.uk/cp'\nconst CSRF = window?.Attendee?.csrf ?? ''\n\nexport const useDashboardStore = defineStore('trainings', {\n    state:() => ({\n        events: null,\n        attendees: null,\n        unverifiedAttendees: null,\n        followOnSupport: null,\n        followOnSupportOptions: null,\n        totals: [],\n        period: 3,\n        site: 'main',\n        loading: false\n    }),\n    actions: {\n        fetchEvents(ids){\n            const self = this;\n            this.loading = true;\n\n            const site = this.site\n            const period = this.period\n\n            // const obj = {\n            //     CRAFT_CSRF_TOKEN : CSRF,\n            //     events: ids,\n            // }\n\n            // axios({\n            //     method: 'post',\n            //     url: `${ENDPOINT}/actions/craft-attendees/dashboard/fetch`,\n            //     data: obj\n            // })\n            // .then(function (response) {\n            //     self.loading = false\n            //     self.events = response?.data?.events\n            //     self.attendees = response?.data?.attendees\n            //     self.followOnSupport = response?.data?.follow_on_support\n            //     self.followOnSupportOptions = response?.data?.follow_on_support_options\n            // });\n\n            const obj = {\n                CRAFT_CSRF_TOKEN : CSRF,\n                site: site,\n                period: period,\n            }\n\n            axios({\n                method: 'post',\n                url: `${ENDPOINT}/actions/craft-attendees/dashboard/events`,\n                data: obj\n            })\n            .then(function (response) {\n                self.loading = false\n                self.events = response?.data?.events\n                self.attendees = response?.data?.attendees\n                self.unverifiedAttendees = response?.data?.unverified_attendees\n                self.followOnSupport = response?.data?.follow_on_support\n                self.followOnSupportOptions = response?.data?.follow_on_support_options\n                self.totals = response?.data?.totals\n            });\n        },\n    }\n})\n","// Import our CSS\nimport '@/css/app.pcss';\nimport Dashboard from '@/vue/dashboard/Dashboard.vue';\nimport { createApp } from 'vue';\nimport { createPinia } from 'pinia'\n\nconst main = async () => {\n    const app = createApp(Dashboard);\n    app.use(createPinia())\n\n    const vm = app.mount('#dashboard');\n\n    return vm\n};\n\nmain().then( (vm) => {\n});\n"],"names":["Dashboard"],"mappings":"yUAGA,KAAM,GAAW,iCAAQ,WAAR,cAAkB,QAAlB,OAA2B,2CAC5C,KAAM,GAAO,iCAAQ,WAAR,cAAkB,OAAlB,OAA0B,GAE1B,EAAoB,EAAY,YAAa,CACtD,MAAM,MACF,OAAQ,KACR,UAAW,KACX,oBAAqB,KACrB,gBAAiB,KACjB,uBAAwB,KACxB,OAAQ,GACR,OAAQ,EACR,KAAM,OACN,QAAS,KAEb,QAAS,CACL,YAAY,EAAI,MACN,GAAO,UACR,QAAU,QAET,GAAO,KAAK,KACZ,EAAS,KAAK,OAoBd,EAAM,CACR,iBAAmB,EACnB,OACA,YAGE,CACF,OAAQ,OACR,IAAK,GAAG,6CACR,KAAM,IAET,KAAK,SAAU,EAAU,mBACjB,QAAU,KACV,OAAS,oBAAU,OAAV,cAAgB,SACzB,UAAY,oBAAU,OAAV,cAAgB,YAC5B,oBAAsB,oBAAU,OAAV,cAAgB,uBACtC,gBAAkB,oBAAU,OAAV,cAAgB,oBAClC,uBAAyB,oBAAU,OAAV,cAAgB,4BACzC,OAAS,oBAAU,OAAV,cAAgB,y0YCxDxC,GAAO,SAAY,MACf,GAAM,EAAUA,aAClB,IAAI,KAEG,EAAI,MAAM,eAKzB,KAAO,KAAM,AAAC,GAAO"}